<h2>Add a card</h2>
<div class="add-card-select-column">
  <soc-select ng-model="addCardSelectedColumnFieldName">
    <soc-option
      value="null"
      disabled="disabled"
      ng-selected="addCardSelectedColumnFieldName === null">Choose a column...</soc-option>

    <soc-option value="null" disabled="disabled" ng-if="datasetColumns.available.length > 0"></soc-option>

    <soc-option
      value="{{column.name}}"
      title="Add this card"      
      ng-repeat="column in datasetColumns.available">{{column.title}}</soc-option>

    <soc-option value="null" disabled="disabled" ng-if="datasetColumns.alreadyOnPage.length > 0"></soc-option>

    <soc-option
      value="null"
      disabled="disabled"
      ng-if="datasetColumns.alreadyOnPage.length > 0"><b>Card already on page</b></soc-option>

    <soc-option
      value="{{column.name}}"
      title="This card is already on the page"
      disabled="disabled"
      ng-repeat="column in datasetColumns.alreadyOnPage">-{{column.title}}</soc-option>

    <soc-option value="null" disabled="disabled" ng-if="datasetColumns.visualizationUnsupporetd.length > 0"></soc-option>

    <soc-option
      value="null"
      disabled="disabled"
      ng-if="datasetColumns.visualizationUnsupporetd.length > 0">Not currently supported</soc-option>

    <soc-option
      value="{{column.name}}"
      title="This card type is currently unsupported"
      disabled="disabled"
      ng-repeat="column in datasetColumns.visualizationUnsupporetd">-{{column.title}}</soc-option>

  </soc-select>
</div>
<div class="add-card-preview">
  <span ng-if="addCardModel === null">Choose a column from the dropdown above to add a new card</span>
  <div class="card-spot" ng-if="addCardModel !== null">
    <card model="addCardModel"
          interactive="false"
          class="card preview"></card>
    <div class="card-controls">
      <div class="card-control icon-settings"
           title="Customize this card"
           ng-if="isCustomizable(addCardModel)"
           ng-click="dialogState.show = false; customizeCard(addCardModel)"
           >
        Settings
      </div>
    </div>
  </div>
</div>
<div class="add-card-buttons">
  <button type="button"
          class="action-btn dark r-to-l"
          ng-click="dialogState.show = false">Cancel</button>
  <button type="button"
          class="action-btn dark r-to-l"
          ng-class="{disabled: addCardModel === null}"
          ng-click="addCard()">Add card</button>
</div>
