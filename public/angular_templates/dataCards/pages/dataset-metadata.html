<div class="dataset-metadata">
  <!-- HEADER -->
  <div class="page-header row">
    <div class="span12">
      <div class="logo">
        <img src="/stubs/images/generic-logo.png" alt="Customer Logo"></img>
      </div>
    </div>
  </div>
  <div class="metadata-boxes">
    <div class="standard-metadata row">
      <div class="span12">
        <h1>{{datasetName}}</h1>
        <!-- We double the single newlines to make all newlines become paragraph breaks.
             This is specified behavior. -->
        <!-- We use urlsToMarkdownLinks instead of ngSanitize's linky filter because linky will
             eat newlines. I can only conjecture why. -->
        <!-- Of note. btf-markdown internally uses $sanitize, so if any HTML leaks through the filters
             it will ultimately be eaten. -->
        <div btf-markdown="datasetDescription | escapeHtml | singleNewlinesToDoubleNewlines | linkifyUrls"></div>
      </div>
    </div>
    <div class="dataset-related-pages row">
      <div class="span12">
        <h1>Official views of this data</h1>
        <div ng-repeat="page in datasetPublisherPages"
          class="page"
          bind-from-model="page.name, page.description" >
          <a ng-href="/view/{{page.id}}">
            <h2>{{name}}</h2>
            <p multiline-ellipsis
               max-lines="2" tolerance="2" text="{{description}}" show-more-mode="title-attr"></p>
          </a>
          <hr ng-if="!$last" />
        </div>
      </div>
    </div>
    <div class="dataset-column-metadata row">
      <div class="span12 dataset-columns">
        <h1>Columns in this Dataset</h1>
        <div ng-repeat="datasetColumn in datasetColumns"
          class="dataset-column">
          <h2>{{datasetColumn.title || datasetColumn.name}}</h2>
          <!-- If you're confused with this giraffe of a filter list see the comments in standard-metadata above. -->
          <div btf-markdown="datasetColumn.description | escapeHtml | singleNewlinesToDoubleNewlines | linkifyUrls"></div>
          <hr ng-if="!$last" />
        </div>
      </div>
    </div>
  </div>
</div>
