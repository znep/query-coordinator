.clearBoth {
  clear: both;
}

.clearfix:after {
  clear: both;
  content: ".";
  display: block;
  height: 0;
  visibility: hidden;
}

//START: IE hack.
// For IE to do the right thing with clearfix, you must first set the display
// to inline-block, then back to block.
// The * html hack is to trigger the hasLayout property in IE6.
.clearfix {
  display: inline-block;
  & {
    display: block;
  }
}

* html .clearfix {
  height: 1%;
}

// END: IE hack.

.textPrompt.prompt, .textPrompt.example {
  color: #888;
}

.clipText {
  @include clip-text;
}

.hiddenTextField {
  //Colors need to be transparent, otherwise Firefox & IE show the field
  // while trying to get rid of the border stops events from registering in
  // WebKit
  background-color: transparent !important;
  border-color: transparent !important;
  //Shrink the height, and hide it just off the edge.  We need more than
  // -1px to the left or the blinking cursor shows in IE.  And top needs
  // to be just -1px or Safari will scroll on focus.
  height: 0;
  left: -10px;
  top: -1px;
  //Absolute positioning so Safari doesn't scroll
  position: absolute;
  width: 1px !important;
  //Big negative z-index to hide it in IE8
  z-index: -100;
}

// 508
.accessible {
  height: 1px;
  left: -9999px;
  overflow: hidden;
  position: absolute;
  top: auto;
  width: 1px;
}

a:focus, a:active {
  text-decoration: underline;
  img {
    @include prefixer(box-shadow, 0 0 4px rgba(0, 40, 180, 0.3));
  }
}

#jqmAlert {
  display: none;
  left: 50%;
  margin-left: -15em;
  min-height: 0;
  position: fixed;
  top: 7em;
  width: 30em;
}

// For now turn off corners until we get nice drop-shadows for the dialog
#jqmAlert,
#jqmAlert .mainContent {
  background-image: none;
}

#jqmAlert .alertMessage {
  font-size: 1.3em;
}

.jqmOverlay {
  background-color: #000;
}

a {
  color: $color_links_normal;
  text-decoration: none;
  p &:hover, p &:focus, p &:active {
    text-decoration: underline;
  }
  &:visited {
    color: $color_links_visited;
  }
}

#templates, .translations {
  display: none;
}

.hide {
  display: none !important;
}

.invisible {
  visibility: hidden;
}

.obscure {
  position: absolute !important;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
}

.mainError {
  color: #ff0000;
  font-size: 1.2em;
  padding: 0.25em 0;
}

// do a mixin here rather than derive or the box will render
@mixin flash {
  border: 1px solid;
  @include border-radius(0.2em);
  font-size: 1.2em;
  font-weight: bold;
  padding: 0.7em 1em;
  margin: 1em 0;
}

.flash.notice, .flash.warning {
  @include flash;
  border-color: #ecd776;
  background-color: #fef8dc;
  color: #7a6710;
}

.flash.error {
  @include flash;
  border-color: #7e1818;
  background-color: #e9b9b9;
  color: #590606;
}

.skip-links {
  position: absolute;
  left: 5px;
  top: -495px;
  a {
    @include gradient_chrome_nav_buttons_background;
    @include border-radius(0.2em);
    @include box-shadow(0, 0, 0.5em, rgba(0, 0, 0, 0.3));
    color: #fff;
    font-size: 1.5em;
    font-weight: bold;
    padding: 0.6em;
    position: absolute;
    width: 30em;
    &:focus, &:active {
      top: 500px;
      z-index: 10000;
    }
  }
}

// Modal styles
#newModals {
  display: none;
}

.modalDialog {
  background-color: #fff;
  border: 1px solid #999;
  @include border-radius(0.4em);
  @include box-shadow(0, 0, 4px, rgba(0, 0, 0, 0.5));
  display: none;
  left: 50%;
  margin-left: -20em;
  padding: 2em;
  position: fixed;
  top: 6em;
  width: 36em;
  z-index: 9999;
  .loadingOverlay {
    background-color: #cccccc;
    filter: alpha(opacity = 50);
    opacity: 0.5;
    z-index: 3001;
  }
  .modalDialogClose {
    @include close-button;
    position: absolute;
    right: 1em;
    top: 1em;
  }
  h2 {
    color: $color_text_error;
    font-size: 1.9em;
    font-weight: normal;
    margin-bottom: 0.8em;
  }
  p {
    font-size: 1.2em;
    &.modalParagraph {
      margin-bottom: 1em;
    }
  }
  .fakeSubmit {
    filter: alpha(opacity = 0);
    opacity: 0;
    height: 1px;
    position: absolute;
    width: 1px;
    .ie & {
      position: static;
    }
  }
  .actions {
    margin-top: 2em;
    li {
      float: right;
    }
  }
}

// New Modal Styles
.socrataModal {
  display: none; // visibility is toggled with JS, element should not be present when JS is disabled
  background-color: rgba(0, 0, 0, 0.6);
  height: 100%;
  left: 0;
  opacity: 0;
  @include prefixer(perspective, 700px);
  position: fixed;
  top: 0;
  @include transition(0.3s, opacity);
  width: 100%;
  z-index: 3100;
  .ie8 & {
    background: url(/stylesheets/images/content/70percentgrey.png);
  }
  .cornerClose {
    color: #333;
    font-family: SSPika;
    font-size: 1.2em;
    position: absolute;
    right: 2.5em;
    text-rendering: optimizeLegibility;
    top: 1.5em;
    @include transition(0.3s, color);
    &:hover, &:focus, &:active {
      color: #666;
    }
  }
  &.shown {
    opacity: 1;
  }
  .socrataModalWrapper {
    height: 100%;
    .modalContents {
      opacity: 0;
      // Unfortunately, as of FF19, these transforms make selects in the modal unuseable
      //@include prefixer(transform, rotateY(10deg) translateX(15em))
      //@include prefixer(transform-style, preserve-3d)
      @include transition(0.5s, transform opacity);
      &.shown {
        opacity: 1;
        //@include prefixer(transform, rotateY(0deg) translateX(0))

      }
      &.pushed {
        opacity: 0;
        //@include prefixer(transform, rotateY(-5deg) translateX(-15em))

      }
    }
  }
  // just a sane default style
  .socrataDialog {
    background-color: #fff;
    @include prefixer(border-radius, 0.2em);
    @include prefixer(box-shadow, 0 0.3em 0.3em rgba(0, 0, 0, 0.4));
    margin: 4em auto;
    min-height: 3em;
    padding: 1.5em;
    position: relative;
    top: 0;
    width: 70%;
  }
}

// Approval styles
.stage .icon {
  display: inline-block;
  margin-right: 0.5em;
  span {
    @include rounded-ends;
    background-color: #dedede;
    display: inline-block;
    height: 8px;
    width: 8px;
    margin: 0 1px;
    &.on {
      background-color: #00972b;
    }
    &.rejected {
      background-color: #972b00;
    }
  }
}

// Way for JS to get at these styles
#styleReference {
  display: none;
  .itemHighlight {
    background-color: $row_highlight_color;
  }
}

.socrata-visualization {
  background-color: #fff !important;
}

/**
 * EN-17053/EN-17170 - Make the grid view look more contemporary
 *
 * These styles are slightly more specific than the default ones, and are
 * intended to override the defaults in order to make the grid view look more
 * like a 'Styleguide' app (in other words, to make the grid view look more like
 * the rest of the platform).
 */
body.styleguide {
  font-family: 'Open Sans', sans-serif;

  #datasetBar {
    background: #fff !important;

    #infoBox {
      margin: 0 680px 0 0;
      padding: 8px;
      font-size: 15px;
      font-weight: 400;

      #datasetIcon {
        display: none;
      }

      .unsavedLine {
        font-family: 'Open Sans', sans-serif !important;

        h2 {
          display: inline-block;
          margin-bottom: 8px;
          font-size: 24px;
          font-weight: 300;
          letter-spacing: -0.5px;
        }

        .toolbarButton {
          display: inline-block;
          margin: 0;
          padding: 5px 8px;
          width: auto;
          height: auto;
          color: #5e5e5e !important;
          font-size: 12px;
          font-weight: normal;
          line-height: 18.5px;
          text-align: center;
          letter-spacing: 0;
          text-decoration: none !important;
          text-shadow: none;
          background: #f1f1f1;
          border: solid 1px #c8c8c8;
          border-radius: 1px;
          box-sizing: border-box;
          transition: color 0.2s, background-color 0.2s;

          &.save,
          &.saveAs {
            color: #fff !important;
            background: #2279a6;
            border: solid 1px #2279a6;

            &:hover,
            &:focus,
            &:active {
              background: #176289;
              border: solid 1px #176289;
              box-shadow: none;
            }
          }
        }
      }

      #datasetName {
        margin-bottom: 8px;
        font-size: 24px;
        font-weight: 300;
        letter-spacing: -0.5px;
      }

      .outOfDate {
        display: inline-block;
        margin-bottom: 8px;
        color: #808080;
        font-size: 14px !important;
        font-weight: 400 !important;
        font-style: normal !important;
      }

      .basedOnParent,
      .basedOnTemp {
        color: #5e5e5e;
        font-weight: 300;

        a {
          text-decoration: underline;
        }
      }

      #description {
        margin: 0 !important;
        padding: 0 20px 0 0 !important;

        div.descriptionContent {
          margin: 0 !important;
          padding: 0 0 8px 0;
          font-size: 14px !important;
          line-height: 20px !important;

          p {
            margin: 0 !important;
            padding: 0 0 8px 0;
            color: #5e5e5e;
            font-size: 14px !important;
            line-height: 20px !important;
          }

          &.collapsed {
            padding-bottom: 0;
            height: 20px;
            line-height: 14px;
          }
        }

        a.descriptionExpander {
          right: 0;
          top: 4px;
        }
      }
    }

    #actionBox {
      padding: 8px;
      height: auto !important;
      min-height: auto !important;

      #toolbarOptions {
        margin: 0 !important;

        li {
          margin: 0 !important;

          #shareOptions {
            margin-right: 15px !important;
            padding: 5px 12px !important;

            li {
              margin: 0 5px !important;
              cursor: pointer !important;
            }
          }

          #renderTypeOptions {
            margin-right: 15px !important;
            border: solid 1px #c8c8c8 !important;
            border-radius: 2px !important;

            li {
              border-left: solid 1px #c8c8c8 !important;

              a {
                margin: 0;
                padding: 6px 8px !important;
                color: #5e5e5e !important;
                background: #fff !important;
                border: none !important;
                box-shadow: none !important;

                &.active,
                &:hover,
                &:focus,
                &:active {
                  border: none !important;

                  &.socrataVizTable {

                    .icon {
                      background-position: 0 0px !important;
                    }
                  }

                  &.fatrow {

                    .icon {
                      background-position: 0 -65px !important;
                    }
                  }

                  &.page {

                    .icon {
                      background-position: 0 -52px !important;
                    }
                  }

                  &.template {

                    .icon {
                      background-position: 0 0px !important;
                    }
                  }
                }

                &.active {
                  background: #e4e4e4 !important;
                }
              }

              &:first-child {
                border-left: none !important;
                border-radius: 2px 0 0 2px !important;

                a {
                  border: none !important;
                }
              }

              &:last-child {
                border-radius: 0 2px 2px 0 !important;
              }
            }

            &:hover,
            &:focus,
            &:active {
              box-shadow: none !important;
            }
          }

          #searchForm {
            border: solid 1px #c8c8c8 !important;

            .icon {
              left: 5px !important;
              top: 5px !important;
              opacity: 0.5 !important;
            }

            input {
              margin: 0 !important;
              padding: 0 !important;
              width: 250px;
              height: auto !important;
              color: #5e5e5e;
              font-family: 'Open Sans', sans-serif;
              font-size: 15px;
              font-weight: 400 !important;
              border-radius: 1px;
              box-shadow: none;
              box-sizing: border-box;

              &:hover,
              &:focus,
              &:active {
                box-shadow: none !important;
              }

              &.prompt {
                color: #c4c4c4;
              }
            }
          }
        }
      }
    }

    #actionBar {
      position: absolute;
      display: block;
      width: 100%;
      height: 26px;
      padding: 0;
      right: 0;
      bottom: 5px;

      #sidebarOptions {
        margin: 0 !important;
        padding: 0 8px 0 0  !important;
        background: transparent !important;

        li {
          position: relative;
          display: block;
          float: left;
          margin: 0;
          border: solid 1px #c8c8c8 !important;
          border-left: none !important;
          border-right: none !important;

          a {
            padding: 8px !important;
            height: 14px !important;
            color: #5e5e5e !important;
            font-size: 14px !important;
            font-weight: 400 !important;
            line-height: 14px !important;
            text-decoration: none !important;
            background: #fff;
            border-right: none !important;
            border-radius: 0 !important;

            .icon {
              display: none !important;
            }

            &.edit {
              border-left: solid 4px #ffcd1a !important;
            }

            &.manage {
              border-left: solid 4px #b8864b !important;
            }

            &.moreViews {
              border-left: solid 4px #ed77e6 !important;
            }

            &.filter {
              border-left: solid 4px #3e91ce !important;
            }

            &.visualize {
              border-left: solid 4px #36a572 !important;
            }

            &.export {
              border-left: solid 4px #8ae8ff !important;
            }

            &.feed {
              border-left: solid 4px #ffa733 !important;

              .contentIndicator {
                margin: 0;
                padding: 0;
                width: 18px;
                height: 18px;
                left: auto !important;;
                right: -9px !important;
                top: -7px !important;
                color: #fff !important;
                font-family: 'Open Sans', sans-serif;
                font-size: 12px !important;
                font-weight: 600;
                line-height: 19px;
                text-align: center;
                box-sizing: border-box;
                z-index: 9999;
              }
            }

            &.embed {
              border-left: solid 4px #ff7377 !important;
            }

            &.about {
              border-left: solid 4px #d36674 !important;
            }

            &:hover, &:focus, &:active {
              color: #5e5e5e !important;
              background: #e4e4e4 !important;
            }
          }

          &.active {

            a {
              color: #fff !important;
              border-top: none !important;
              border-bottom: none !important;

              &.edit {
                background: #ffcd1a !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #ffcd1a !important;
                }
              }

              &.manage {
                background: #b8864b !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #b8864b !important;
                }
              }

              &.moreViews {
                background: #ed77e6 !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #ed77e6 !important;
                }
              }

              &.filter {
                background: #3e91ce !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #3e91ce !important;
                }
              }

              &.visualize {
                background: #36a572 !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #36a572 !important;
                }
              }

              &.export {
                background: #8ae8ff !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #8ae8ff !important;
                }
              }

              &.feed {
                background: #ffa733 !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #ffa733 !important;
                }
              }

              &.embed {
                background: #ff7377 !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #ff7377 !important;
                }
              }

              &.about {
                background: #d36674 !important;

                &:hover, &:focus, &:active {
                  color: #fff !important;
                  background: #d36674 !important;
                }
              }
            }
          }

          &:first-child {
            border-left: solid 1px #c8c8c8 !important;
            border-radius: 2px 0 0 2px !important;

            a {
              border-radius: 2px 0 0 2px !important;
            }
          }

          &:last-child {
            border-right: solid 1px #c8c8c8 !important;
            border-radius: 0 2px 2px 0 !important;

            a {
              border-right: none !important;
              border-radius: 0 2px 2px 0 !important;
            }
          }
        }
      }
    }
  }

  .renderTypeNode {

    .divider {
      background: #c8c8c8 !important;
    }

    .row,
    .content {
      color: #5e5e5e !important;
      font-size: 10px !important;
      font-weight: 400 !important;

      .richColumn {

        .richLine {
          margin-bottom: 8px !important;

          .richLabel,
          .richItem {
            padding: 0 5px !important;
            font-size: 12px !important;
            line-height: 20px !important;
          }

          .richLabel {
            color: #6a6a6a !important;
            font-weight: 600 !important;
          }
        }
      }
    }

    &.fatRowRenderType {

      .row {

        &.rowHighlight {
          background-color: #fff !important;
        }

        &:nth-child(odd) {
          background-color: #fff !important;
        }

        &:nth-child(even) {
          background-color: #f7f7f7 !important;
        }
      }
    }

    .navigation {
      height: 40px !important;
      background: #f8f8f8 !important;
      border-top: solid 1px #e4e4e4 !important;

      li {

        a {
          display: inline-block !important;
          margin: 2px !important;
          padding: 0 !important;
          width: 33px !important;
          height: 33px !important;
          color: #2279a6 !important;
          font-size: 14px !important;
          line-height: 33px !important;
          background: transparent !important;
          border: solid 1px transparent !important;
          border-radius: 2px !important;
          box-shadow: none !important;
          cursor: pointer;
          transition: background 0.15s, border 0.15s, color 0.15s;

          .icon {
            position: relative !important;
            top: 10px !important;
            left: 10px !important;
          }

          &.disabled {
            cursor: not-allowed !important;

            .icon {
              opacity: 0.25 !important;
            }
          }

          &:hover,
          &:focus,
          &:active {
            text-decoration: none !important;
          }

          &:hover {
            border: solid 1px #d4d4d4 !important;

            &.disabled {
              border: solid 1px transparent !important;
            }
          }
        }

        &.edit {
          position: absolute !important;
          float: none !important;
          margin: 0 !important;
          left: 0 !important;
          top: 0 !important;

          a {
            padding: 0 8px !important;
            width: auto !important;
            font-weight: 400 !important;
            text-shadow: none !important;
          }
        }

        &.page {
          margin: 0 !important;
        }

        &.info {
          color: #5e5e5e !important;
          font-size: 12px !important;
          line-height: 15px !important;
        }
      }
    }
  }
}
