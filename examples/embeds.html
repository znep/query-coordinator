<!DOCTYPE html>
<html>
  <head>
    <title>Example Usage: Embeds</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
  </head>

  <body>
    <!--
      NOTE: All these embed codes were hacked to pull in the library directly from localhost.
      Ordinarily, the embed would pull in the loader instead, which will then fetch the library
      from a CDN.
      As such, this example does NOT test the loader. You have been warned.
    -->
    <script type="text/javascript" src="../dist/socrata-visualizations-embed.js" async></script>

    Column chart:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}">Explore the data</a>
    </div>

    Custom size:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}" data-width="800" data-height="350">Explore the data</a>
    </div>

    Bad JSON:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com">Explore the data</a>
    </div>

    Missing embed version:
    <div>
      <a class="socrata-visualization-embed" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}">Explore the data</a>
    </div>

    Too-new embed version:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="2" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}">Explore the data</a>
    </div>

    No VIF:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com">Explore the data</a>
    </div>

    Dynamically added:
    <div id='dynamic'>
      <button>GO</button>
      <!-- not classed correctly, so won't autoload -->
      <a data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showValueLabels&quot;:true,&quot;showValueLabelsAsPercent&quot;:false,&quot;showOtherCategory&quot;:true},&quot;description&quot;:null,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[],&quot;limit&quot;:12},&quot;label&quot;:null,&quot;type&quot;:&quot;pieChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Record&quot;,&quot;other&quot;:&quot;Records&quot;}}],&quot;title&quot;:null}"></a>
    </div>

    <script type="text/javascript">
      var button = document.querySelector('#dynamic button');
      button.onclick = function() {
        document.querySelector('#dynamic a').classList.add('socrata-visualization-embed');
        // This API is used by the loader, so we should test it somehow.
        window.socrata.visualizationEmbed.hydrateEmbeds();
        button.remove();
      };
    </script>

    Bar:
<a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;showValueLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;qnur-w9s6&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;licensetype&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:&quot;count&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;barChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:&quot;&quot;}">Explore the data</a>

    Timeline:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;xAxisScalingMode&quot;:&quot;fit&quot;},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;k6cs-ww27&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;incident_occurrence&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;plausibility&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[],&quot;precision&quot;:null},&quot;label&quot;:null,&quot;type&quot;:&quot;timelineChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:&quot;&quot;}" data-width="400" data-height="500">Explore the data</a>
    </div>

    Histogram:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;description&quot;:null,&quot;configuration&quot;:{&quot;bucketType&quot;:&quot;linear&quot;,&quot;viewSourceDataLink&quot;:true},&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;k6cs-ww27&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;blood_alcohol_level&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;plausibility&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;histogram&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:null}">Explore the data</a>
    </div>

    Choropleth:
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;baseLayerUrl&quot;:&quot;https://a.tiles.mapbox.com/v3/socrata-apps.3ecc65d4/{z}/{x}/{y}.png&quot;,&quot;baseLayerOpacity&quot;:0.8,&quot;computedColumnName&quot;:&quot;:@community&quot;,&quot;legend&quot;:{&quot;type&quot;:&quot;continuous&quot;,&quot;negativeColor&quot;:&quot;#c6663d&quot;,&quot;zeroColor&quot;:&quot;#ffffff&quot;,&quot;positiveColor&quot;:&quot;#003747&quot;},&quot;shapefile&quot;:{&quot;geometryLabel&quot;:&quot;community&quot;,&quot;primaryKey&quot;:&quot;_feature_id&quot;,&quot;uid&quot;:&quot;7vkw-k8eh&quot;},&quot;viewSourceDataLink&quot;:true,&quot;mapCenterAndZoom&quot;:{&quot;center&quot;:{&quot;lat&quot;:41.83407963773858,&quot;lng&quot;:-87.7321},&quot;zoom&quot;:10}},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;52my-2pak&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;location_point&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;dataspace.demo.socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:&quot;count&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;regionMap&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Crime&quot;,&quot;other&quot;:&quot;Crimes&quot;}}],&quot;title&quot;:&quot;&quot;}">Explore the data</a>
    </div>

    Point (prod):
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;baseLayerOpacity&quot;:0.8,&quot;baseLayerUrl&quot;:&quot;https://a.tiles.mapbox.com/v3/socrata-apps.3ecc65d4/{z}/{x}/{y}.png&quot;,&quot;datasetMetadata&quot;:false,&quot;locateUser&quot;:false,&quot;panAndZoom&quot;:true,&quot;rowInspectorTitleColumnName&quot;:null,&quot;viewSourceDataLink&quot;:true,&quot;mapCenterAndZoom&quot;:{&quot;center&quot;:{&quot;lat&quot;:41.83407963773858,&quot;lng&quot;:-87.7321},&quot;zoom&quot;:10}},&quot;description&quot;:null,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#eb6900&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;52my-2pak&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;location_point&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;dataspace.demo.socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:null},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;featureMap&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Crime&quot;,&quot;other&quot;:&quot;Crimes&quot;}}],&quot;title&quot;:null}">Explore the data</a>
    </div>
    Point (staging):
    <div>
      <a class="socrata-visualization-embed" data-embed-version="1" data-height="500" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;baseLayerOpacity&quot;:0.8,&quot;baseLayerUrl&quot;:&quot;https://a.tiles.mapbox.com/v3/socrata-apps.3ecc65d4/{z}/{x}/{y}.png&quot;,&quot;datasetMetadata&quot;:false,&quot;locateUser&quot;:false,&quot;panAndZoom&quot;:true,&quot;rowInspectorTitleColumnName&quot;:null,&quot;viewSourceDataLink&quot;:true,&quot;mapCenterAndZoom&quot;:{&quot;center&quot;:{&quot;lat&quot;:32.66073764743223,&quot;lng&quot;:-89.84889049999998},&quot;zoom&quot;:6}},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#eb6900&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;k6cs-ww27&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;incident_location&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:null},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;featureMap&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:&quot;&quot;}" data-width="400" href="https://vertex-stories.test-socrata.com/d/k6cs-ww27" rel="external" target="_blank">Explore the data</a>
    </div>
  </body>
</html>
