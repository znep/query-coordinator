@mixin lower-label
  bottom: -1.3em
  display: block
  font-size: 1.2em
  font-weight: normal
  height: 1em
  letter-spacing: 0.2em
  opacity: 0.6
  position: absolute
  text-align: center
  text-transform: uppercase
  width: 100%

// dunno why this is a default, but reset it
h2
  line-height: 1

.configControl
  background-color: #f9f9f9
  padding: 1.5em 0

  .chooser
    margin: 0 auto
    overflow: hidden
    text-align: center
    width: 30em

    li
      background: -moz-linear-gradient(270deg, #ddd, #ccc)
      background: -webkit-linear-gradient(270deg, #ddd, #ccc)
      border: 1px solid #999
        left: none
      cursor: pointer
      float: left
      font-size: 1.3em
      font-weight: 700
      padding: 0.4em 0.8em
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3)
      width: 9.8em

      &:first-child
        border-left: 1px solid #999
        @include prefixer(border-radius, 0.2em 0 0 0.2em)

      &:last-child
        @include prefixer(border-radius, 0 0.2em 0.2em 0)

      &.active
        background: -moz-linear-gradient(270deg, #333, #444)
        background: -webkit-linear-gradient(270deg, #333, #444)
        @include prefixer(box-shadow, 0 0 0.3em rgba(0, 0, 0, 0.4) inset)
        color: #fff
        text-shadow: 0 2px 1px rgba(0, 0, 0, 0.3)

.config
  overflow: hidden

  .configWrapper
    width: 170%

  .draft, .final
    box-sizing: border-box
    @include prefixer(box-shadow, 0 0 1em rgba(0, 0, 0, 0.4) inset)
    float: left
    height: 100%
    overflow-y: auto
    width: 50%

    a
      background-color: #555
      @include prefixer(border-radius, 0.2em)
      @include prefixer(box-shadow, 0 0.3em 0.5em rgba(0, 0, 0, 0.35))
      color: #fff
      display: block
      font-size: 1.7em
      font-weight: bold
      margin: 1.6em auto
      padding: 1em 1.5em
      text-align: center
      text-decoration: none
      text-rendering: optimizeLegibility
      text-shadow: 0 0 0.4em rgba(0, 0, 0, 0.6)
      @include transition(0.3s, background-color)
      width: 14em

      &:hover
        background-color: #666

  .draft
    background: url(/stylesheets/images/content/nasty_fabric.png)

  .final
    background: url(/stylesheets/images/content/debut_dark.png)

.goalList
  @include clearfix
  padding: 3em

  &.dropTarget
    background-image: url(/stylesheets/images/content/dropzone.png)

  .goalCard
    background-color: #f7f7f7
    @include prefixer(border-radius, 0.2em)
    @include prefixer(box-shadow, 0 0.3em 0.5em rgba(0, 0, 0, 0.35))
    cursor: pointer
    display: block
    float: left
    height: 12em
    margin-bottom: 1em
    margin-right: 1em
    padding: 1.5em
    width: 12em

    &.ui-draggable-dragging
      margin: 0.5em

    .draft &
      background-color: #333
      color: #fff

      h2
        text-align: right

      a
        border-color: #fff
        color: #fff

    h2
      font-size: 2em
      text-transform: capitalize

.categories
  min-height: 100%

  li
    background-color: #444

    h2.categoryTitle
      color: #fff
      cursor: pointer
      font-size: 2.5em
      float: left
      padding: 0.7em
      text-shadow: 0 0 0.3em rgba(255, 255, 255, 0.3)

    .editIcon
      color: #fff
      cursor: pointer
      display: block
      font-family: 'SSStandard'
      font-size: 1.7em
      opacity: 0.9
      padding: 1.5em
        bottom: 0
      visibility: hidden

    &:hover
      .editIcon
        visibility: visible

    input.categoryTitleEdit
      background: none
      border: none
        bottom: 2px dotted #fff
      color: #fff
      display: none
      font-family: 'myriad-pro'
      font-size: 2.5em
      font-weight: bold
      height: 1em
      line-height: 1em
      margin: 0.7em
        bottom: 0.4em
        top: 0.72em
      outline: none
      padding: 0
        right: 0.05em
        bottom: 0.2em
      text-rendering: optimizeLegibility
      width: 20em

    .goalList
      clear: left
      min-height: 10em

.goalEditor.socrataDialog
  background-image: url(/stylesheets/images/content/noise.png)
  margin-top: 6em
  min-width: 90em
  padding: 0

  form
    line-height: 6em
    padding: 4em

    > *
      margin-right: 5px

    .inputWrapper
      border-bottom: 2px dotted #333
      display: inline-block
      line-height: 1em
      position: relative

      label
        @include lower-label

      input, select
        background: none
        border: none
        box-sizing: border-box
        font-family: myriad-pro
        font-size: 2.8em
        line-height: 1em
        outline: none
        text-align: center
        width: 100%

      select
        height: 100%
        left: 0
        opacity: 0
        position: absolute
        top: 0
        width: 100%
        z-index: 9999

      .selectValue
        display: block
        height: 0.8em
        opacity: 1
        text-align: center
        text-transform: lowercase
        width: 100%

      &.comparisonInput
        width: 21em
      &.nameInput
        width: 50em
      &.amountInput
        width: 20em

      &.amountIsPercentInput
        border: none

        input
          bottom: 0.15em
          float: left
          position: relative
          width: auto

        label
          display: inline
          font-size: 2em
          opacity: 0.2
          position: static
          @include transition(0.3s, opacity)

        input:checked + label
          opacity: 0.85

    span
      font-size: 2.8em
      opacity: 0.9

  form.additionalDetails
    @include vertical-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.02))
    border-top: 1px solid rgba(0, 0, 0, 0.2)
    line-height: 4.5em

    h2
      line-height: 1em
      padding-bottom: 0.5em

    span
      font-size: 1.7em

    .inputWrapper
      input, select
        font-size: 1.7em

      label
        bottom: -1.4em

    .agencyInput
      display: inline

      .agencyList
        display: inline

        li
          display: inline

          // and now, a bunch of grammar
          .andText
            display: none

          &:first-child, &:last-child
            .commaText
              display: none

          // oxford commas are important!
          &:first-child + li ~ li:last-child
            .commaText
              display: inline

          &.newAgency
            .andText
              display: inline
            &:first-child .andText
              display: none

          .inputWrapper
            width: 30em

            input
              padding-right: 0.8em

          .removeAgency
            color: #333
            font-family: SSStandard
            margin-left: -1.2em
            margin-right: 1.2em
            position: relative
            text-decoration: none
            text-rendering: optimizeLegibility
            @include transition(0.3s, color)
            z-index: 1

            &:active, &:hover, &:focus
              color: #888

    .noteLine > span
      line-height: 1em

    .notesWrapper
      background: url(/stylesheets/images/content/dotted_line_dark.png)
      cursor: text
      min-height: 4.5em
      position: relative

      .notes
        line-height: 1.3em

      .notesLabel
        @include lower-label
        bottom: 1em

  &.draft
    background-color: #333
    color: #fff

    form
      .inputWrapper
        border-color: #fff

        input, select
          color: #fff

    form.additionalDetails
      @include vertical-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.1))
      border-top-color: rgba(0, 0, 0, 0.3)

      h2
        text-shadow: 0 1px 0.2em rgba(0, 0, 0, 0.4)

      .agencyInput .agencyList li .removeAgency
        color: #fff

        &:active, &:hover, &:focus
          color: #bbb

      .notesWrapper
        background: url(/stylesheets/images/content/dotted_line.png)
