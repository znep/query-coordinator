// Constants

$box_gradient_alias_fix: 'rx=1&ry=1&rw=1'

$sidebar_edit_tab_color_top: #e7b300
$sidebar_filter_tab_color_top: #57b6dd
$sidebar_visualize_tab_color_top: #03723f
$sidebar_export_tab_color_top: #0b5e9b
$sidebar_feed_tab_color_top: #ff7400
$sidebar_embed_tab_color_top: #e44044
$sidebar_about_tab_color_top: #a03341

$sidebar_bg_color: #f7f7f7
$sidebar_chrome_border_color: #cecece
$sidebar_text_color: #666

// Compat functions

@mixin border-radius($a, $b: true, $c: true, $d: true)
  // variables are strictly scoped in conditionals, so this can't be refactored out
  @if ($c == true) and ($d == true)
    @if $b == true
      border-radius: $a
      -moz-border-radius: $a
      -webkit-border-radius: $a
    @else
      border-radius: $a $a $b $b
      -moz-border-radius: $a $a $b $b
      -webkit-border-radius: $a
      -webkit-border-top-right-radius: $a
      -webkit-border-bottom-right-radius: $b
      -webkit-border-bottom-left-radius: $b
  @else
    border-radius: $a $b $c $d
    -moz-border-radius: $a $b $c $d
    -webkit-border-radius: $a
    -webkit-border-top-right-radius: $b
    -webkit-border-bottom-right-radius: $c
    -webkit-border-bottom-left-radius: $d

@mixin border-radius-corner($v, $h, $r)
  -moz-border-radius-#{$v}#{$h}: $r
  -webkit-border-#{$v}-#{$h}-radius: $r

@mixin box-shadow($x,$y,$r,$c)
  box-shadow: $x $y $r $c
  -moz-box-shadow: $x $y $r $c
  -webkit-box-shadow: $x $y $r $c
@mixin box-shadow-none
  box-shadow: none
  -moz-box-shadow: none
  -webkit-box-shadow: none

@mixin transition-duration($t)
  transition-duration: $t
  -moz-transition-duration: $t
  -webkit-transition-duration: $t

@mixin transition-property($p)
  transition-property: $p
  @if ($p == box-shadow) or ($p == border-radius)
    -moz-transition-property: -moz- + $p
    -webkit-transition-property: -webkit- + $p
  @else
    -moz-transition-property: $p
    -webkit-transition-property: $p

@mixin vertical-gradient($s, $e)
  background-color: $s
  background: -moz-linear-gradient(0 0 270deg, $s, $e)
  background: -webkit-gradient(linear, left top, left bottom, from($s), to($e))

@mixin white-space-pre-wrap
  white-space: pre-wrap
  white-space: -moz-pre-wrap
  white-space: -pre-wrap
  white-space: -o-pre-wrap
  word-wrap: break-word

// Convenience methods

@mixin center($width, $height: $width)
  height: $height
  left: 50%
  margin-left: $width / 2 * -1
  margin-top: $height / 2 * -1
  position: absolute
  top: 50%
  width: $width

// Common styles

@mixin text-hiding
  background:
    color: transparent
    position: 0 0
    repeat: no-repeat
  display: block
  text-align: left
  text-indent: -9999px

@mixin clip-text
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap

@mixin default-fonts
  font-family: Arial, sans-serif

@mixin rounded-ends
  @include border-radius(9999px)

@mixin underline-on-hover
  text-decoration: none
  &:hover
    text-decoration: underline

@mixin button
  @include gradient-toolbar-buttons-active-background
  border: 1px solid $color_toolbar_buttons_active_border
  @include border-radius(0.2em)
  color: $color_toolbar_buttons_active_text
  font-size: 1em
  height: 14px
  line-height: 14px
  padding: 0.3em 0.7em
  &:hover
    @include box-shadow(0, 0, 0.3em, $color_toolbar_buttons_active_shadow)
  &.disabled
    @include gradient-toolbar-buttons-disabled-background
    border: 1px solid $color_toolbar_buttons_disabled_border
    color: $color_toolbar_buttons_disabled_text
    cursor: default
    &:hover
      @include box-shadow-none
  .noLinearGradient &
    @include box-gradient-toolbar-buttons-active-background(3, 21, $box_gradient_alias_fix)
    &:hover
      border-color: $color_toolbar_buttons_active_border - #222

// mix this into a commonForm to give it the appropriate width styling
@mixin common-form($labelWidth, $controlWidth: true)
  label
    width: $labelWidth
  .additionalHelp
    margin-left: $labelWidth + 3.5em
  label.error
    margin-left: $labelWidth + 3em
  @if $controlWidth != true
    input[type=text], input[type=password], textarea, label.error
      width: $controlWidth