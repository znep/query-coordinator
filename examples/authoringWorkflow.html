<!DOCTYPE html>
<html>
  <head>
    <title>Example Usage: AuthoringWorkflow</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
  </head>

  <body>
    <button id="launch">Launch Authoring Workflow</button>

    <div id="authoring-workflow"></div>

    <pre id="output" style="white-space: pre-wrap;"></pre>
  </body>

  <!-- Include external vendor -->
  <script type="text/javascript" src="./vendor.js"></script>

  <!-- Include bundle -->
  <script type="text/javascript" src="../dist/socrata-visualizations.js"></script>

  <script type="text/javascript">
    var AuthoringWorkflow = socrata.visualizations.AuthoringWorkflow;
    var container = document.querySelector('#authoring-workflow');
    var output = document.querySelector('#output');

    $('#launch').click(function() {
      output.innerHTML = '';

      var authoringWorkflow = new AuthoringWorkflow(container, {
        vif: null,

        onComplete: function(result) {
          output.innerHTML = JSON.stringify(result.vif);
          authoringWorkflow.destroy();
        },

        onCancel: function() {
          authoringWorkflow.destroy();
        }
      });
    });
  </script>
</html>
