<% content = @site_chrome.content['header'] %>

<%= form_tag site_chrome_path, method: :put, remote: true do %>

  <% #TODO: factor these out into a single lookup table %>
  <%= render(partial: 'site_chrome/tab_content/form_field',
             locals: { fields: [:header, :logo, :src],
                       translation: translations[:header_bar_logo] }) %>

  <%= render(partial: 'site_chrome/tab_content/form_field',
             locals: { fields: [:locales, @current_locale, :general, :site_name],
                       translation: translations[:site_display_name] }) %>

  <%= render(partial: 'site_chrome/tab_content/form_field_pair',
             locals: { left: { fields: [:header, :styles, :bg_color],
                               translation: translations[:bar_background_color] },
                       right: { fields: [:header, :styles, :fg_color],
                                translation: translations[:bar_text_link_color] } }) %>

  <%= render('list_of_links',
             :links => content['links'],
             :content_key => :header,
             :translations => translations) %>

  <%= submit_tag 'put_header', id: 'header' %>
<% end %>
