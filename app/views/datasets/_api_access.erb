<div class="apiContentWrapper">
  <p><%= t('screens.ds.grid_sidebar.api.intro_html', view_foundry_url: @view.api_foundry_url ) %></p>
  <ul class="finishButtons actionButtons clearfix">
    <li><%= link_to(t('screens.ds.grid_sidebar.api.api_docs'), @view.api_foundry_url, :class => 'button', :rel => 'external') %></li>
    <li><%= link_to(t('screens.ds.grid_sidebar.api.developer_portal'), 'http://dev.socrata.com', :class => 'button', :rel => 'external') %></li>
  </ul>
  <h3><%= t('screens.ds.grid_sidebar.api.endpoint_title') %></h3>
  <div class="apiEndpointWrapper">
    <%= content_tag('input', nil, value: @view.resource_url(request), readonly: 'readonly', type: 'text', onclick: 'this.select();') %>
  </div>

  <%- if @view.is_tabular? && @view.visible_columns.present? -%>
    <h3><%= t('screens.ds.grid_sidebar.api.column_ids_title') %></h3>
    <dl class="sectionContent">
      <%- @view.visible_columns.each do |column| -%>
        <dt title="<%= column.name %>"><%= column.name %></dt>
        <dd title="<%= column.fieldName %>"><%= column.fieldName %></dd>
      <%- end -%>
    </dl>
  <%- end -%>
</div>
