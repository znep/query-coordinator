<% content_for :head do %>
  <%= stylesheet_link_tag "blist-grid-screen",
    :cache => "cache/all" %>
  <%= javascript_include_tag "util/swfobject",
    :cache => "cache/all" %>
  <title>blist | share your weblists</title>
<% end %>

<div id='overlay'></div>

<div id='lensContainer' class='mainContent tableView'>
  <ul class='tabList'>
    <li class='main active'><div class='wrapper'>
      <a href='#'><%= @lens.name %></a></div></li>
  </ul>

  <div class='outerContent'>
    <div class='content'>
      <div class='headerBar clearfix'>
        <ul>
          <%# Main menu %>
          <li><a href='#' class='dropdownLink'>
            <div class='outerWrapper'><div class='midWrapper'>
                <span class='innerWrapper'>Menu</span></div></div></a></li>

          <%# Undo/redo %>
          <li class='separator'><a href='#Undo' id='undoLink'
            class='linkIcon flashAction' title='Undo'>Undo</a></li>
          <li><a href='#Redo' id='redoLink'
            class='linkIcon flashAction' title='Redo'>Redo</a></li>

          <%# Table view options %>
          <li class='separator tableOption'>
            <a class='addColumnsLink linkIcon' href='#'>Add Column</a></li>
          <li class='separator tableOption'>
            <a href='#' id='filterLink' class='dropdownLink'>
              <div class='outerWrapper'><div class='midWrapper'>
                  <div class='innerWrapper'>
                    <span class='linkIcon'>Filter & View</span></div></div>
            </div></a>
            <ul id='filterViewMenu' class='menu'>
              <li class='sectionTitle'>Build a new view of your data</li>
              <li><a href='#' class='filter'>Filter Out Rows...</a></li>
              <li><a href='#' class='sort'>Sort Columns...</a></li>
              <li><a href='#' class='showHide'>Show or Hide Columns...</a></li>
              <li class='footer'><div class='outerWrapper'>
                <span class='innerWrapper'></span></div></li>
            </ul>
          </li>

          <%# Page view options %>
          <li class='separator pageOption'><a class='addColumnsLink linkIcon'
            href='#'>Add Field</a></li>
          <li class='pageOption'><a id='newPageLink'
            class='linkIcon flashAction' href='#NewPage'>New Page</a></li>
          <li class='separator pageOption'><a id='defaultLayoutLink'
            class='linkIcon flashAction'
            href='#DefaultLayout'>Default Layout</a></li>

          <%# Display menu %>
          <li class='separator'><a href='#' id='displayLink' class='dropdownLink'>
            <div class='outerWrapper'><div class='midWrapper'>
                <span class='innerWrapper'>Display As</span></div></div></a>
            <ul id='displayMenu' class='menu optionMenu'>
              <li><a href='#' class='table selected'>A table</a></li>
              <li><a href='#' class='page'>A page</a></li>
              <li class='footer'><div class='outerWrapper'>
                <div class='innerWrapper'><span class='colorWrapper'></span>
              </div></div></li>
            </ul>
          </li>
        </ul>

        <form class='search' action='#'>
          <p>
            <input type='text' class='textPrompt' title='Find' />
            <input type="image" class="submit" name="findSubmit"
              src="/stylesheets/images/content/table_menu/button_find.png" />
          </p>
        </form>
      </div>

      <div id='addColumnsMenu' class='fixedMenu'>
        <div class='outerWrapper'>
          <ul class='innerWrapper clearfix'>
            <li class='column'>
            <%# Text datatypes %>
              <ul>
                <li><a href='#plainText'
                  id='addColumn_plainText'>Plain Text</a></li>
                <li><a href='#formattedText'
                  id='addColumn_formattedText'>Formatted Text</a></li>
              </ul>
            </li>
            <li class='column'>
            <%# Numeric datatypes %>
              <ul>
                <li><a href='#number' id='addColumn_number'>Number</a></li>
                <li><a href='#money' id='addColumn_money'>Money</a></li>
                <li><a href='#percent' id='addColumn_percent'>Percent</a></li>
                <li><a href='#dateTime' id='addColumn_dateTime'>Date & Time</a></li>
              </ul>
            </li>
            <li class='column'>
            <%# Address datatypes %>
              <ul>
                <li><a href='#phone' id='addColumn_phone'>Phone</a></li>
                <li><a href='#email' id='addColumn_email'>Email</a></li>
                <li><a href='#url' id='addColumn_url'>Website URL</a></li>
              </ul>
            </li>
            <li class='column'>
            <%# Chooser/explicit pick options datatypes %>
              <ul>
                <li><a href='#checkbox' id='addColumn_checkbox'>Checkbox</a></li>
                <li><a href='#stars' id='addColumn_stars'>Star</a></li>
                <li><a href='#flag' id='addColumn_flag'>Flag</a></li>
              </ul>
            </li>
            <li class='column'>
            <%# Blob datatypes %>
              <ul>
                <li><a href='#document' id='addColumn_document'>Document</a></li>
                <li><a href='#photo' id='addColumn_photo'>Photo (Image)</a></li>
              </ul>
            </li>
            <li class='column last'>
            <%# Complex/join datatypes %>
              <ul>
                <li><a href='#picklist'
                  id='addColumn_picklist'>Picklist (Drop-down)</a></li>
                <li><a href='#blist_in_blist'
                  id='addColumn_bnb'>Table (blist in blist)</a></li>
              </ul>
            </li>
          </ul>
          <a href='#Close_Add_Columns' title='Close' class='close'>Close</a>
        </div>
      </div>

      <div id='pageViewHeader'><div class='innerWrapper'></div></div>

      <div id='outerSwfWrapper' class='scrollContent'>
        <div id='swfWrapper'>
          <div id="swfContent">
            <%= swfobject_tag @swf_url,
              :variables => variables_for_swf,
              :flash_version => @minFlashVersion %>
              We're sorry, but blist requires Javascript enabled and
              <a target="_blank" href="http://www.adobe.com/go/getflashplayer">Adobe Flash Player version <%= @minFlashVersion %></a> or higher.
          </div>
        </div>
      </div>

      <div id='pageViewFooter'>
        <a href='#FirstPage' id='firstPageLink' class='flashAction'
          title='First Page'>First Page</a>
        <a href='#PrevPage' id='prevPageLink' class='flashAction'
          title='Previous Page'>Previous Page</a>
        <span id='pageInfo'>Page</span>
        <a href='#NextPage' id='nextPageLink' class='flashAction'
          title='Next Page'>Next Page</a>
        <a href='#LastPage' id='lastPageLink' class='flashAction'
          title='Last Page'>Last Page</a>
      </div>

    </div>
  </div>
</div>

<div class="twoColumnContainer">
  <div id="mainColumnContent" class="column">
    <div id='infoPane'>
      <div class='header'>
        <a href='#' class='active'>Summary</a>
        <div class='background'></div>
      </div>
      <div class='infoContent'>
      </div>
    </div>
  </div>

  <div id="sidebar" class="column">
    <%= render(:partial => "shared/ad_box") %>
  </div>

  <div class='clearBoth'></div>
</div>

<% content_for :js_footer do %>
  <%= render(:partial => "shared/common_js") %>
  <%= javascript_include_tag "util/extMouseWheel", "util/flash-interface",
    "widgets/dropdown-menu",
    "screens/blist-grid-screen", :cache => "cache/all" %>
<% end %>
