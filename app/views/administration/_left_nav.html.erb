<%- prefix = 'screens.admin.index' %>
<% content_for(:relocated_content) do %><a name="above-content"></a><% end %>
<div class="leftNavBox adminNavBox">
  <div class="hideButtonBox">
    <a href="#toggle" class="hideButton close">
      <span class="icon"></span>
    </a>
  </div>
  <ul class="navigationList adminNav">
      <li class="analytics">
        <%= admin_nav_link_to t("#{prefix}.site_analytics"), :controller => '/administration', :action => 'analytics' %>
      </li>
    <%- if CurrentDomain.user_can?(current_user, UserRights::MANAGE_USERS) -%>
      <li class="users">
        <%= admin_nav_link_to t("#{prefix}.users"), :controller => '/administration', :action => 'users' %>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::FEDERATIONS) && module_available?(:federations) -%>
      <li class="federation">
        <%= admin_nav_link_to t("#{prefix}.federation"), :controller => '/administration', :action => 'federations' %>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::MODERATE_COMMENTS) && module_enabled?(:publisher_comment_moderation) -%>
      <li class="comments">
        <%= admin_nav_link_to t("#{prefix}.comment_moderation"), :controller => '/administration', :action => 'comment_moderation' %>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::APPROVE_NOMINATIONS) && feature?(:view_moderation) -%>
      <li class="viewmoderation">
        <%= admin_nav_link_to t("#{prefix}.view_moderation"), :controller => '/administration', :action => 'views' %>
      </li>
    <%- end -%>
    <%- if user_can?(current_user, UserRights::EDIT_SDP) -%>
      <li class="appearance">
        <%= admin_nav_link_to t("#{prefix}.sdp_templates"), :controller => '/administration', :action => 'sdp_templates' %>
      </li>
    <%- end -%>
    <%- unless CurrentDomain.module_enabled?(:govStat) -%>
      <%- if CurrentDomain.user_can?(current_user, UserRights::EDIT_PAGES) && module_enabled?(:canvas_designer) -%>
        <li class="contentmgmt">
          <%= admin_nav_link_to t("#{prefix}.dataslate_pages"), :controller => '/administration', :action => 'canvas_pages' %>
        </li>
      <%- end -%>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::EDIT_OTHERS_DATASETS) ||
           CurrentDomain.user_can?(current_user, UserRights::EDIT_SITE_THEME) -%>
      <li class="datasets">
        <%= admin_nav_link_to t("#{prefix}.datasets"), :controller => '/administration', :action => 'datasets' %>
      </li>
    <%- end -%>
    <%- if can_view_georegions_admin?(current_user) -%>
      <li class="georegions">
        <%= admin_nav_link_to t("#{prefix}.georegions"), :controller => '/administration', :action => 'georegions' %>
      </li>
    <%- end -%>
    <%- if show_site_appearance_admin_panel? %>
      <li class="homemgmt">
        <%= admin_nav_link_to t("#{prefix}.site_appearance"), :controller => '/site_appearance', :action => 'edit' %>
      </li>
    <%- end -%>
    <%- unless CurrentDomain.module_enabled?(:govStat) -%>
      <%- if CurrentDomain.user_can?(current_user, UserRights::MANAGE_STORIES) ||
              CurrentDomain.user_can?(current_user, UserRights::FEATURE_ITEMS) ||
              CurrentDomain.user_can?(current_user, UserRights::EDIT_SITE_THEME) -%>
        <li class="homemgmt">
          <%= admin_nav_link_to t("#{prefix}.home_page"), :controller => '/administration', :action => 'home' %>
        </li>
      <%- end -%>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::EDIT_SITE_THEME) -%>
      <li class="metadata">
        <%= admin_nav_link_to t("#{prefix}.metadata"), :controller => '/administration', :action => 'metadata' %>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::VIEW_ALL_DATASET_STATUS_LOGS) %>
      <li class="activity-feed">
        <%= admin_nav_link_to t("#{prefix}.jobs"), :controller => '/administration/activity_feed', :action => 'index' %>
      </li>
    <% end %>
    <%- if module_enabled?(:routing_approval) && current_user.can_approve? -%>
      <li class="routingApproval">
        <%= admin_nav_link_to t("#{prefix}.dataset_routing_and_approval"), :controller => '/administration/routing_approval', :action => 'index' %>
      </li>
    <%- end -%>
    <%- if current_user.try(:is_superadmin?) -%>
      <li class="internal">
        <%= admin_nav_link_to t("#{prefix}.internal"), :controller => '/internal', :action => 'index' %>
      </li>
    <%- end -%>
    <%- if current_user.try(:is_superadmin?) && feature_flag?('stories_enabled', request) -%>
      <li class="contentmgmt">
        <%= admin_nav_link_to t("#{prefix}.stories"), '/stories/admin/themes' %>
      </li>
    <%- end -%>
    <%- if feature_flag?('enable_catalog_connector', request) && CurrentDomain.user_can?(current_user, UserRights::USE_DATA_CONNECTORS) %>
      <li class="connectors">
        <%= admin_nav_link_to t("#{prefix}.connectors"), :controller => '/administration/connector', :action => 'connectors' %>
      </li>
    <%- end -%>
  </ul>
</div>

<a name="content" tabindex="-1"></a>

<%- content_for :js_footer do -%>
  <%= include_webpack_bundle 'open-data/admin-collapse-nav.js' %>
<%- end -%>
