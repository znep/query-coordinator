.goalProgress
  .content-wrapper > div
    @include border-radius(0.3em)
    display: none
    color: #ffffff
    font-size: 1.1em
    padding: 0.7em 1em 0.5em
    &:after
      margin-left: 0.5em
  .progress-good .good
    background-color: #09a74f
  .progress-progressing .flat
    background-color: #fcc806
  .progress-bad .poor
    background-color: #e33229
  .progress-none .none
    background-color: #888

@mixin progress-colors($prop, $selector: '')
  &.progress-good #{$selector}
    #{$prop}: #09a74f
  &.progress-progressing #{$selector}
    #{$prop}: #fcc806
  &.progress-bad #{$selector}
    #{$prop}: #e33229
  &.progress-none #{$selector}
    #{$prop}: #888


.heroImageContainer
  height: 35em
  margin: -2em -4em -20em
  overflow: hidden
  position: relative

  img
    width: 100%

  .heroGradient
    @include vertical-gradient(rgba(247, 247, 247, 0.1), rgba(247, 247, 247, 1))
    height: 100%
    left: 0
    position: absolute
    top: 0
    width: 100%

    .ie8 &
      border-bottom: 1px solid #fff

.titleContainer
  background: #fff
  background: rgba(255, 255, 255, 0.9)
  border-top: 3px solid #888
  @include prefixer(box-shadow, 0 0 0.3em rgba(0, 0, 0, 0.2))
  color: #555
  margin: 5em
    top: 0
  padding-bottom: 1.5em
  position: relative

  strong
    color: #000
    font-weight: normal

  .goalBox
    padding: 3em 4.5em

    h2
      font-weight: normal
      padding: 0

    .categoryTitle
      padding-bottom: 0.5em

      h2
        font-size: 2.5em

    .component-Share
      right: 4em
      position: absolute
      top: 4em

      li
        margin-right: 1em

    .customTitle
      display: none
      &.hasCustomTitle
        display: block
        ~ .defaultTitle
          display: none

    .goalTitle
      color: #333
      letter-spacing: -1px
      padding-bottom: 2em

      h2
        font-size: 5em
        line-height: 1.1em

    .goalSubtitle
      font-size: 2.2em
      letter-spacing: -1px
      padding-bottom: 1.5em

    .prevailingMetric
      .currentValue
        padding-top: 1.5em

        .metricValue
          @include progress-colors(color, '.value')

          .value
            font-size: 8em
            letter-spacing: -2px
          .unit
            color: #666
            font-size: 2em
            letter-spacing: -1px
            padding-left: 0.1em

        .metricTime
          color: #777
          font-size: 1.6em
          letter-spacing: -1px

        .goalProgress
          font-size: 1.5em
          margin-top: 2.5em

      .nonCurrent
        border-left: 1px solid #ddd
        padding-left: 3em

        .metric
          padding: 2em 0 1em
          position: relative
          text-align: right

          &.baselineValue
            border-bottom: 1px solid #ddd
            padding: 1em 0 2em

            .metricType
              top: 1em

          .metricType
            font-size: 1.8em
            left: 0
            position: absolute
            top: 1.5em // not actually sure why this looks more right than 2em

          .metricValue
            color: #000
            font-size: 4.5em
            letter-spacing: -1px
            margin-bottom: -0.15em

          .metricUnit
            color: #000
            font-size: 1.8em
            letter-spacing: -1px

          .metricTime
            font-size: 1.2em
            letter-spacing: -1px

  .chartArea
    background-color: #fbfbfb
    @include prefixer(background, linear-gradient(#f4f4f4, #fbfbfb 15px))
    border-top: 1px solid #bbb
    font-size: 1em
    height: 21em
    margin: 2em -4.5em -4.5em
    padding: 0

    .goalUid
      display: none

    .content-wrapper
      position: relative

      svg
        position: relative
        z-index: 1

        .dataSeriesArea
          fill: #aaa
          fill-opacity: 0.3

        .dataSeriesLine
          fill: none
          stroke: #666
          stroke-width: 3px

        .projectionLineShadow
          fill: none
          stroke: #fbfbfb
          stroke-opacity: 0.75
          stroke-width: 7px

        .projectionLine
          @include progress-colors(stroke)
          fill: none
          stroke-width: 3px

      .dataSeriesLeftBuffer, .dataSeriesRightBuffer
        background-color: #aaa
        bottom: 0
        @include opacity(0.08)
        position: absolute
        z-index: 1

      .dataSeriesLeftBuffer
        left: 0

      .dataSeriesRightBuffer
        right: 0

      .constrain
        bottom: 0
        left: 0
        overflow: hidden
        position: absolute
        right: 0
        top: -1px

        .nowTip
          @include triangle(17px, #bbb, top)
          margin-left: -17px
          position: absolute
          top: 0
          z-index: 3

          .nowTipFill
            @include triangle(16px, #fff, top)
            left: -16px
            position: absolute
            top: -17px

      .bubble
        color: #fff
        padding: 0.2em
        position: absolute

      .yTick
        border-top: 1px solid #eee
        left: 0
        position: absolute
        right: 0
        z-index: 0

        .bubble
          background-color: #797979
          margin-right: 0.8em
          margin-top: -0.8em
          right: 100%
          text-rendering: optimizeLegibility

          .tip
            @include triangle(3px, #797979, left)
            margin-right: -6px
            position: absolute
            right: 0
            top: 0.4em

      .xTick.bubble
        background-color: #ababab
        bottom: 0
        margin-bottom: -2.3em
        margin-left: -2.2em
        position: absolute
        text-align: center
        width: 4em

        .tip
          @include triangle(3px, #ababab, bottom)
          margin-top: -6px
          position: absolute
          left: 1.9em
          top: 0

      .marker
        @include progress-colors(background-color)
        @include progress-colors(border-right-color, '.tip')
        background-color: #797979
        left: 100%
        margin-left: 0.8em
        margin-top: -0.7em
        position: absolute

        .tip
          @include triangle(3px, #797979, right)
          margin-left: -6px
          position: absolute
          left: 0
          top: 0.4em

      .meter
        bottom: 0
        position: absolute
        right: 0
        top: 0
        width: 4px
        z-index: 2

        div
          @include progress-colors(background-color)
          position: absolute
          width: 100%

          &.rangeTop
            top: 0
          &.rangeBottom
            bottom: 0

.sectionTitle
  font-size: 2em
  padding: 0 1.8em
  h2
    font-weight: normal

#goalPageRoot
  .metricsBlock
    padding: 0 3.6em

    > .component-Container > :first-child
      display: none

    .metricItem
      border-bottom: 1px solid $color_chrome_box_border
      margin-bottom: 1.5em
      padding-bottom: 1.5em

      .socrata-component
        min-height: 0
      .component-Text
        padding: 0

      .metricTitle
        font-size: 1.3em
        h2
          font-weight: normal
          line-height: 1.5em
          padding: 0

      .indicatorContainer
        text-align: center

        .value
          font-size: 3em
        &.currentValue .value
          color: $govstat_color_action
        .unit, .type
          line-height: 1em
        .unit
          color: #666
          font-size: 1.4em
          padding: 0.2em 0
        .type
          color: #555

      .goalProgress
        padding-top: 0.6em

.relatedVisualizations
  border-bottom: 1px solid $color_chrome_box_border
  margin: 0 3.6em 2em
  padding-bottom: 3em
  > .component-Container
    overflow: hidden

    > .component-Container
      float: left
      width: 50%

      &.even
        clear: left

      > .component-Container
        padding: 1em

  .chartTitle
    margin-bottom: 0.5em
    h2
      font-size: 2.2em
      font-weight: normal
  .chartDescription
    font-size: 1.3em
    line-height: 1.2em
    padding: 0.4em 0
  .exploreLink
    margin-top: 1.6em
    text-align: right
    a
      font-size: 1.2em

  svg > rect
    fill: none

.content-wrapper.goalDescription
  color: #000000
  font-size: 1.2em
  line-height: 1.2em
  margin: 3em 0
  padding: 0 3em
  width: auto

  p
    margin-right: 2em
    padding-bottom: 1.5em
    max-width: 400px

  ul
    list-style-type: circle
    margin-left: 2em
  ol
    list-style-type: decimal
    margin-left: 2em

  *
    font-size: 1em !important

