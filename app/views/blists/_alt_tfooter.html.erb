<th>
  <%- unless local_assigns[:no_title] -%>
  Totals
  <%- end -%>
</th>
<%- columns.each do |column| -%>
  <%- if column.is_nested_table -%>
  <%= render(:partial => 'alt_tfooter', :locals => {:aggregates => aggregates,
    :columns => column.viewable_children, :no_title => true}) %>
  <%- else -%>
  <th>
    <%- agg = aggregates.find{|aggregate|
      aggregate['columnId'] == column.id} -%>
    <%= agg['value'] if !agg.nil? %>
  </th>
  <%- end -%>
<%- end -%>
