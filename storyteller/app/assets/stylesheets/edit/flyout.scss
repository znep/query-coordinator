@import 'lib/variables';

#socrata-flyout {
  @include unselectable();

  position: fixed;
  max-width: $flyout-max-width;
  color: $flyout-color;
  font-size: $flyout-font-size;
  word-wrap: break-word;
  white-space: normal;
  visibility: hidden;
  background-color: $flyout-bg-color;
  border: 1px solid $flyout-border-color;
  pointer-events: none;
  z-index: $flyout-z-index;

  &.visible {
    visibility: visible;
  }

  .socrata-flyout-content {
    padding: $flyout-vertical-padding $flyout-horizontal-padding;

    .socrata-flyout-title {
      font-weight: bold;

    }

    .socrata-flyout-table {
      width: 100%;

      .socrata-flyout-row {

        .socrata-flyout-cell:nth-child(2) {
          padding-left: $flyout-last-cell-margin-left;
          text-align: right;
          white-space: nowrap;
        }
      }
    }
  }

  .socrata-flyout-hint {
    position: absolute;
    height: $flyout-hint-size;
    width: $flyout-hint-size;
    border: 0;
    background-color: transparent;

    &:after, &:before {
      position: absolute;
      width: 0;
      height: 0;
      content: ' ';
      border: solid transparent;
    }
  }

  // Cardinal direction classes correspond to the direction the hint points.

  &.southwest {
    .socrata-flyout-hint {
      left: 0;
      bottom: -9px; // Needed for IE9

      &:after {
        border-width: $flyout-hint-size $flyout-hint-size 0 0;
        border-color: $flyout-bg-color transparent transparent transparent;
      }

      &:before {
        left: -1px;
        top: 1px;
        border-width: ($flyout-hint-size + 1) ($flyout-hint-size + 1) 0 0;
        border-color: $flyout-border-color transparent transparent transparent;
      }
    }
  }

  &.southeast {
    .socrata-flyout-hint {
      bottom: -9px; // Needed for IE9

      &:after {
        border-width: 0 $flyout-hint-size $flyout-hint-size 0;
        border-color: transparent $flyout-bg-color transparent transparent;
      }

      &:before {
        top: 1px;
        border-width: 0 ($flyout-hint-size + 1) ($flyout-hint-size + 1) 0;
        border-color: transparent $flyout-border-color transparent transparent;
      }
    }
  }

  &.northwest {
    .socrata-flyout-hint {
      left: 0;
      top: -11px; // Needed for IE9

      &:after {
        right: -1px;
        top: 2px;
        border-width: $flyout-hint-size 0 0 $flyout-hint-size;
        border-color: transparent transparent transparent $flyout-bg-color;
      }

      &:before {
        border-width: ($flyout-hint-size + 1) 0 0 ($flyout-hint-size + 1);
        border-color: transparent transparent transparent $flyout-border-color;
      }
    }
  }

  &.northeast {
    .socrata-flyout-hint {
      top: -11px; // Needed for IE9

      &:after {
        top: 2px;
        border-width: 0 0 $flyout-hint-size $flyout-hint-size;
        border-color: transparent transparent $flyout-bg-color transparent;
      }

      &:before {
        right: -1px;
        border-width: 0 0 ($flyout-hint-size + 1) ($flyout-hint-size + 1);
        border-color: transparent transparent $flyout-border-color transparent;
      }
    }
  }
}
