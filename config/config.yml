###
#
#  META NOTE!
#  Despite the comment below, on our local dev boxes this config file is INDEED
#  manually updated and not dynamically chef'd.
#
###


###############################################################################
# NOTE! All configuration information in this file are overwritten by chef when
# the app is deployed. If you wish to ensure that new configuration information
# is deployed along with this app, then make sure it is added to appropriate
# JSON file in the environments folder of the metachef repo.
#
# Attributes that you wish to add to the "default" section below should be
# added under the "default_attributes" hash key in the appropriate JSON file
# mentioned above.
#
# At the time of this writing, the following metachef environment files are
# germane to this application and where it is deployed:
#
#  azure-eastus-production.json
#  azure-westeurope-production.json
#  production.json
#  production-ord1.json
#  azure-staging.json
#  azure-rc.json
#
# The way this file works is thus:
# 1. metachef will run chef on all nodes every 20 minutes
# 2. chef will write its version of this file to /etc/config.yml
# 3. UPON DEPLOY, frontend will copy /etc/config.yml into config/config.yml
# 4. frontend starts up, reading its config/config.yml

default: &default
  coreservice_uri: http://localhost:8080
  zk_hosts: 'localhost:2181'
  rpx_signin_url: https://socrata-test.rpxnow.com/openid/v2/signin
  rpx_facebook_url: https://socrata-test.rpxnow.com/facebook/start
  rpx_windowslive_url: https://socrata-test.rpxnow.com/liveid/start
  rpx_twitter_url: https://socrata-test.rpxnow.com/twitter/start
  rpx_googleplus_url: https://socrata-test.rpxnow.com/googleplus/start
  app_token: U29jcmF0YS0td2VraWNrYXNz0
  statsd_enabled: false
  polaroid_hostname: polaroid.service.aws-us-west-2-production.socrata.consul
  polaroid_port: 13379
  opendata_ga_tracking_code: UA-52982454-21
  data_cards_app_token: 'zvQamMSTi4GNuZWWDwjLdLPhW'
  feature_map_zoom_debounce: 500
  feature_map_features_per_tile: 50000
  shape_file_region_query_limit: 5000
  secondary_group_identifier: 'spandex'
  enable_png_download_ui: true
  odux_enable_feature_map: true
  enable_search_suggestions: true
  feature_map_disable_pan_zoom: false
  cetera_host: 'http://localhost:5704'
  kafka_rest_uri: 'http://localhost:8082'

# Local development
development:
  ssl_port: 443
  http_port: 9292
  metrics_dir: tmp/metriclogs
  <<: *default
  mixpanel_token: 59b0b54697603105463834afdf20accf
  polaroid_hostname: localhost
  polaroid_port: 1337
  auth0_uri: socrata.auth0.com
  auth0_id: w59XZV0YDqx7us3GFHnHncXrAzFWkCnG
  auth0_secret: rbmrUAUiWZqp3aADhu1aWGy6tp15jKefajxO6qYndAZ6djmF80V2kD_m-ajpS3uI
  auth0_jwt: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJKQmdZMlROdWJrNTlNbEkwTXl2N3Uzb0VLcGFDbVdDSCIsInNjb3BlcyI6eyJjb25uZWN0aW9ucyI6eyJhY3Rpb25zIjpbInJlYWQiXX19LCJpYXQiOjE0MzQzODY4MDgsImp0aSI6ImE3NmU5YTBmZDMzY2M4YTBiN2NlM2FjODM0Mjk3MWI5In0.tcDv8lxJVf0-f6fKBfRnj5ab4F5PerGDIP-6sHtSGIk

# Running unit tests; NOT test-socrata.com
test:
  metrics_dir: tmp/metriclogs
  <<: *default
  auth0_uri: exists
  auth0_id: exists
  auth0_secret: exists

# test-socrata.com
staging:
  <<: *default
  mixpanel_token: ce548d5c95f7671fadd0174cc067dc69

# rc-socrata.com
rc:
  <<: *default
  mixpanel_token: ce548d5c95f7671fadd0174cc067dc69

# fedramp-test.socrata.com
fedramp-prod:
  <<: *default
  mixpanel_token: ce548d5c95f7671fadd0174cc067dc69

# www.socrata.com
production:
  coreservice_uri: http://lb-vip.sea1.socrata.com:8081
  rpx_signin_url: https://socrata.rpxnow.com/openid/v2/signin
  rpx_facebook_url: https://socrata.rpxnow.com/facebook/start
  rpx_windowslive_url: https://socrata.rpxnow.com/liveid/start
  rpx_twitter_url: https://socrata.rpxnow.com/twitter/start
  rpx_googleplus_url: https://socrata.rpxnow.com/googleplus/start
  <<: *default
  mixpanel_token: 1d804068e1d3694468823f3c7f74567d
