<%- if tab_to_render == :search -%>
  <%- if (@search_members && @search_members.length > 0) -%>
    <%= render(:partial => "member_list_tab", :locals => {
      :tab_title => "Search Results for \"#{@search_term}\"",
      :members => @search_members || @filtered_members,
      :members_total => @search_members_total || @filtered_members_total,
      :current_page => @current_state[:page], :type => "search", :current_filter => params[:filter],
      :sort_by => nil, :tag_list => nil, :current_tag => @current_state[:tag],
      :search_term => @search_term }) %>
  <%- else -%>
    <%= render(:partial => "member_list_tab_noresult", :locals => { :term => @search_term }) %>
  <%- end -%>

<%- elsif tab_to_render == :topMembers -%>
  <%= render(:partial => "member_list_tab", :locals => {
    :tab_title => "Top Members",
    :members => @top_members || @filtered_members,
    :members_total => @top_members_total || @filtered_members_total,
    :current_page => @current_state[:page], :type => "topMembers", :current_filter => params[:filter],
    :sort_by => params[:sort_by] || "ACTIVITY", :tag_list => @top_members_tags || @filtered_members_tags,
    :current_tag => @current_state[:tag], :search_term => nil }) %>

<%- elsif tab_to_render ==  :topUploaders -%>
  <%= render(:partial => "member_list_tab", :locals => {
    :tab_title => "Top Uploaders",
    :members => @top_uploaders || @filtered_members,
    :members_total => @top_uploaders_total || @filtered_members_total,
    :current_page => @current_state[:page], :type => "topUploaders", :current_filter => params[:filter],
    :sort_by => params[:sort_by] || "ACTIVITY", :tag_list => @top_uploaders_tags || @filtered_members_tags,
    :current_tag => @current_state[:tag], :search_term => nil }) %>

<%- elsif tab_to_render == :allMembers -%>
  <%= render(:partial => "member_list_tab", :locals => {
    :tab_title => "All Members",
    :members => @all_members || @filtered_members,
    :members_total => @all_members_total || @filtered_members_total,
    :current_page => @current_state[:page], :type => "allMembers", :current_filter => params[:filter],
    :sort_by => params[:sort_by] || "ACTIVITY", :tag_list => @all_members_tags || @filtered_members_tags,
    :current_tag => @current_state[:tag], :search_term => nil }) %>

<%- end -%>