<div class="card-spot"
     ng-style="cardPosition.style"
     ng-repeat="cardPosition in cardPositions track by cardPosition.model.uniqueId">
  <card model="cardPosition.model"
        class="card"
        where-clause="globalWhereClauseFragment"
        interactive="true"
        ng-class="{ expanded: cardPosition.model.getCurrentValue('expanded'), dragged: cardPosition.model === grabbedCard.model }"></card>
  <div class="card-drop-placeholder"
    ng-if="cardPosition.model === grabbedCard.model && cardPosition.model.fieldName !== '*'"
    ></div>
  <div class="card-drag-overlay"
    data-card-id="{{cardPosition.model.uniqueId}}"
    ng-if="editMode && cardPosition.model !== grabbedCard.model && cardPosition.model.fieldName !== '*'">
    <div class="delete-button">
      <span class="delete-button-target" title="Remove this Card" ng-click="deleteCard(cardPosition.model)"></span>
    </div>
  </div>
</div>

<div ng-repeat="placeholder in placeholderDropTargets"
  ng-style="placeholder.style"
  class="card-group-drop-placeholder"
  data-group-id="{{ placeholder.cardSize}}"></div>
<button
  ng-repeat="button in addCardButtons"
  ng-style="button.style"
  type="button"
  class="add-card-button action-btn dark l-to-r"
  ng-class="{disabled: !allowAddCard}"
  ng-show="editMode"
  ng-click="addCard(button.cardSize)">Add card here</button>
