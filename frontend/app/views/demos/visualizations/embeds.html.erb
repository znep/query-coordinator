<% content_for :head do %>
  <title>Example Usage: Embeds</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<% end %>

<!--
  NOTE: All these embed codes were hacked to pull in the library directly from localhost.
  Ordinarily, the embed would pull in the loader instead, which will then fetch the library
  from the VIF data source domain.
  As such, this example does NOT test the loader. You have been warned.

  IF YOU WANT TO TEST THE LOADER:
  Replace the src= of the script tag below with:
  src="/component/visualization/v1/socrata-visualizations-loader.js"
  This will use the local loader, which will then fetch the embed main code from the VIF data source domain
  (as per design).
-->
<script type="text/javascript" src="/component/visualization/v1/socrata-visualizations-embed.js" async></script>

<a href="/internal">Internal Panel Home</a><br>
<a href="/internal/demos/visualizations">Back to demo list</a><br>
<% if @with_styleguide %>
<a href="?with_styleguide=false">Turn off styleguide for this page</a><br>
<% else %>
<a href="?with_styleguide=true">Turn on styleguide for this page</a><br>
<% end %>

<br>

<p>Column chart:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}">Explore the data</a>
</div>

<p>Column chart (with legends):</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" data-height="500" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;,&quot;showLegend&quot;:true,&quot;axisLabels&quot;:{&quot;left&quot;:&quot;something on the left&quot;,&quot;bottom&quot;:&quot;something on the bottom&quot;}},&quot;description&quot;:&quot;But it is grouped.&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;,&quot;palette&quot;:&quot;alternate1&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;r6t9-rak2&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;neighborhood&quot;,&quot;aggregationFunction&quot;:null,&quot;grouping&quot;:{&quot;columnName&quot;:&quot;category&quot;}},&quot;domain&quot;:&quot;dataspace.demo.socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:&quot;count&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;case&quot;,&quot;other&quot;:&quot;cases&quot;}}],&quot;title&quot;:&quot;I Don't Know What This Chart Represents&quot;}" data-width="400" href="https://dataspace.demo.socrata.com/d/r6t9-rak2?referrer=embed" rel="external" target="_blank">Explore the data</a>
</div>

<p>Custom size:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}" data-width="800" data-height="350">Explore the data</a>
</div>

<p>Bad JSON:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com">Explore the data</a>
</div>

<p>Missing embed version:</p>
<div>
  <a class="socrata-visualization-embed" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}">Explore the data</a>
</div>

<p>Too-new embed version:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="2" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;Iowa Math and Reading Proficiency&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;pink&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;columnChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Custom Unit&quot;,&quot;other&quot;:&quot;Custom Units&quot;}}],&quot;title&quot;:&quot;My Great Column Chart&quot;}">Explore the data</a>
</div>

<p>No VIF:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com">Explore the data</a>
</div>

<p>Dynamically added:</p>
<div id='dynamic'>
  <button>GO</button>
  <!-- not classed correctly, so won't autoload -->
  <a data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showValueLabels&quot;:true,&quot;showValueLabelsAsPercent&quot;:false,&quot;showOtherCategory&quot;:true},&quot;description&quot;:null,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;vc2c-3mst&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;grade&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;proficient_2&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[],&quot;limit&quot;:12},&quot;label&quot;:null,&quot;type&quot;:&quot;pieChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Record&quot;,&quot;other&quot;:&quot;Records&quot;}}],&quot;title&quot;:null}"></a>
</div>

<script type="text/javascript">
  var button = document.querySelector('#dynamic button');
  button.onclick = function() {
    document.querySelector('#dynamic a').classList.add('socrata-visualization-embed');
    // This API is used by the loader, so we should test it somehow.
    window.socrata.visualizationEmbed.hydrateEmbeds();
    button.remove();
  };
</script>

<p>Bar:</p>
<a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;showValueLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;qnur-w9s6&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;licensetype&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:&quot;count&quot;},&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;measure&quot;,&quot;sort&quot;:&quot;desc&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;barChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:&quot;&quot;}">Explore the data</a>

<p>Timeline:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;xAxisScalingMode&quot;:&quot;fit&quot;},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;k6cs-ww27&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;incident_occurrence&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;plausibility&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[],&quot;precision&quot;:null},&quot;label&quot;:null,&quot;type&quot;:&quot;timelineChart&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:&quot;&quot;}" data-width="400" data-height="500">Explore the data</a>
</div>

<p>Histogram:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;description&quot;:null,&quot;configuration&quot;:{&quot;bucketType&quot;:&quot;linear&quot;,&quot;viewSourceDataLink&quot;:true},&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#71abd9&quot;,&quot;secondary&quot;:&quot;#71abd9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;k6cs-ww27&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;blood_alcohol_level&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:&quot;plausibility&quot;,&quot;aggregationFunction&quot;:&quot;sum&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;histogram&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:null}">Explore the data</a>
</div>

<p>Choropleth:</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;baseLayerUrl&quot;:&quot;https://a.tiles.mapbox.com/v3/socrata-apps.3ecc65d4/{z}/{x}/{y}.png&quot;,&quot;baseLayerOpacity&quot;:0.8,&quot;computedColumnName&quot;:&quot;:@community&quot;,&quot;legend&quot;:{&quot;type&quot;:&quot;continuous&quot;,&quot;negativeColor&quot;:&quot;#c6663d&quot;,&quot;zeroColor&quot;:&quot;#ffffff&quot;,&quot;positiveColor&quot;:&quot;#003747&quot;},&quot;shapefile&quot;:{&quot;geometryLabel&quot;:&quot;community&quot;,&quot;primaryKey&quot;:&quot;_feature_id&quot;,&quot;uid&quot;:&quot;7vkw-k8eh&quot;},&quot;viewSourceDataLink&quot;:true,&quot;mapCenterAndZoom&quot;:{&quot;center&quot;:{&quot;lat&quot;:41.83407963773858,&quot;lng&quot;:-87.7321},&quot;zoom&quot;:10}},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;52my-2pak&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;location_point&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;dataspace.demo.socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:&quot;count&quot;},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;regionMap&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Crime&quot;,&quot;other&quot;:&quot;Crimes&quot;}}],&quot;title&quot;:&quot;&quot;}">Explore the data</a>
</div>

<p>Point (prod):</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" rel="external" target="_blank" href="https://example.com" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;baseLayerOpacity&quot;:0.8,&quot;baseLayerUrl&quot;:&quot;https://a.tiles.mapbox.com/v3/socrata-apps.3ecc65d4/{z}/{x}/{y}.png&quot;,&quot;datasetMetadata&quot;:false,&quot;locateUser&quot;:false,&quot;panAndZoom&quot;:true,&quot;rowInspectorTitleColumnName&quot;:null,&quot;viewSourceDataLink&quot;:true,&quot;mapCenterAndZoom&quot;:{&quot;center&quot;:{&quot;lat&quot;:41.83407963773858,&quot;lng&quot;:-87.7321},&quot;zoom&quot;:10}},&quot;description&quot;:null,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#eb6900&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;52my-2pak&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;location_point&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;dataspace.demo.socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:null},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;featureMap&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Crime&quot;,&quot;other&quot;:&quot;Crimes&quot;}}],&quot;title&quot;:null}">Explore the data</a>
</div>

<p>Point (staging):</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" data-height="500" data-vif="{&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;configuration&quot;:{&quot;baseLayerOpacity&quot;:0.8,&quot;baseLayerUrl&quot;:&quot;https://a.tiles.mapbox.com/v3/socrata-apps.3ecc65d4/{z}/{x}/{y}.png&quot;,&quot;datasetMetadata&quot;:false,&quot;locateUser&quot;:false,&quot;panAndZoom&quot;:true,&quot;rowInspectorTitleColumnName&quot;:null,&quot;viewSourceDataLink&quot;:true,&quot;mapCenterAndZoom&quot;:{&quot;center&quot;:{&quot;lat&quot;:32.66073764743223,&quot;lng&quot;:-89.84889049999998},&quot;zoom&quot;:6}},&quot;description&quot;:&quot;&quot;,&quot;series&quot;:[{&quot;color&quot;:{&quot;primary&quot;:&quot;#eb6900&quot;},&quot;dataSource&quot;:{&quot;datasetUid&quot;:&quot;k6cs-ww27&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;incident_location&quot;,&quot;aggregationFunction&quot;:null},&quot;domain&quot;:&quot;vertex-stories.test-socrata.com&quot;,&quot;measure&quot;:{&quot;columnName&quot;:null,&quot;aggregationFunction&quot;:null},&quot;type&quot;:&quot;socrata.soql&quot;,&quot;filters&quot;:[]},&quot;label&quot;:null,&quot;type&quot;:&quot;featureMap&quot;,&quot;unit&quot;:{&quot;one&quot;:&quot;Row&quot;,&quot;other&quot;:&quot;Rows&quot;}}],&quot;title&quot;:&quot;&quot;}" data-width="400" href="https://vertex-stories.test-socrata.com/d/k6cs-ww27" rel="external" target="_blank">Explore the data</a>
</div>

<p>Timeline with predefined filtering (staging):</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" data-height="600" data-vif="{&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;treatNullValuesAsZero&quot;:true,&quot;xAxisScalingMode&quot;:&quot;fit&quot;},&quot;series&quot;:[{&quot;unit&quot;:{&quot;other&quot;:&quot;Rows&quot;,&quot;one&quot;:&quot;Row&quot;},&quot;color&quot;:{&quot;highlight&quot;:&quot;#cccccc&quot;,&quot;primary&quot;:&quot;#71abd9&quot;},&quot;type&quot;:&quot;timelineChart&quot;,&quot;dataSource&quot;:{&quot;measure&quot;:{&quot;aggregationFunction&quot;:&quot;count&quot;},&quot;domain&quot;:&quot;stories.test-socrata.com&quot;,&quot;type&quot;:&quot;socrata.soql&quot;,&quot;datasetUid&quot;:&quot;ymtg-53em&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;date&quot;},&quot;filters&quot;:[{&quot;function&quot;:&quot;binaryOperator&quot;,&quot;columnName&quot;:&quot;type&quot;,&quot;arguments&quot;:[{&quot;operator&quot;:&quot;=&quot;,&quot;operand&quot;:&quot;cats&quot;}],&quot;isHidden&quot;:false,&quot;joinOn&quot;:&quot;OR&quot;}]},&quot;label&quot;:null}],&quot;origin&quot;:{&quot;type&quot;:&quot;visualization_canvas&quot;,&quot;url&quot;:&quot;https://stories.test-socrata.com/d/hem9-w5me&quot;},&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;description&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;}" data-width="800" href="https://stories.test-socrata.com/Ryan-s-Category/Recently-issued-pet-licenses-2001-2009-updated-dai/ymtg-53em?referrer=embed" rel="external" target="_blank">View the data</a>
</div>

<p>Grouped stacked with filtering (prod):</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" data-height="600" data-vif="{&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;,&quot;axisLabels&quot;:{&quot;left&quot;:&quot;% Complete&quot;,&quot;bottom&quot;:&quot;Priority Group&quot;},&quot;showLegend&quot;:true},&quot;series&quot;:[{&quot;stacked&quot;:{&quot;oneHundredPercent&quot;:true},&quot;color&quot;:{&quot;secondary&quot;:&quot;#a6cee3&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;,&quot;primary&quot;:&quot;#FFCC06&quot;},&quot;type&quot;:&quot;columnChart&quot;,&quot;dataSource&quot;:{&quot;measure&quot;:{&quot;aggregationFunction&quot;:&quot;sum&quot;,&quot;columnName&quot;:&quot;total_inflators_repaired&quot;},&quot;domain&quot;:&quot;data.transportation.gov&quot;,&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;dimension&quot;,&quot;sort&quot;:&quot;asc&quot;},&quot;filters&quot;:[{&quot;function&quot;:&quot;noop&quot;,&quot;columnName&quot;:&quot;manufacturer&quot;,&quot;isHidden&quot;:false,&quot;arguments&quot;:null},{&quot;function&quot;:&quot;valueRange&quot;,&quot;arguments&quot;:{&quot;includeNullValues&quot;:false,&quot;start&quot;:1,&quot;end&quot;:8.02},&quot;columnName&quot;:&quot;priority_group&quot;,&quot;isHidden&quot;:true},{&quot;function&quot;:&quot;timeRange&quot;,&quot;arguments&quot;:{&quot;start&quot;:&quot;2017-10-26T00:00:00&quot;,&quot;end&quot;:&quot;2017-10-31T23:59:59&quot;},&quot;columnName&quot;:&quot;report_date&quot;,&quot;isHidden&quot;:true}],&quot;type&quot;:&quot;socrata.soql&quot;,&quot;datasetUid&quot;:&quot;8i2y-2hyr&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;priority_group&quot;,&quot;aggregationFunction&quot;:null}},&quot;label&quot;:null},{&quot;stacked&quot;:{&quot;oneHundredPercent&quot;:true},&quot;color&quot;:{&quot;secondary&quot;:&quot;#5b9ec9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;,&quot;primary&quot;:&quot;#0183C1&quot;},&quot;type&quot;:&quot;columnChart&quot;,&quot;dataSource&quot;:{&quot;measure&quot;:{&quot;aggregationFunction&quot;:&quot;sum&quot;,&quot;columnName&quot;:&quot;net_inflators_remaining&quot;},&quot;domain&quot;:&quot;data.transportation.gov&quot;,&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;dimension&quot;,&quot;sort&quot;:&quot;asc&quot;},&quot;filters&quot;:[{&quot;function&quot;:&quot;noop&quot;,&quot;columnName&quot;:&quot;manufacturer&quot;,&quot;isHidden&quot;:false,&quot;arguments&quot;:null},{&quot;function&quot;:&quot;valueRange&quot;,&quot;arguments&quot;:{&quot;includeNullValues&quot;:false,&quot;start&quot;:1,&quot;end&quot;:8.02},&quot;columnName&quot;:&quot;priority_group&quot;,&quot;isHidden&quot;:true},{&quot;function&quot;:&quot;timeRange&quot;,&quot;arguments&quot;:{&quot;start&quot;:&quot;2017-10-26T00:00:00&quot;,&quot;end&quot;:&quot;2017-10-31T23:59:59&quot;},&quot;columnName&quot;:&quot;report_date&quot;,&quot;isHidden&quot;:true}],&quot;type&quot;:&quot;socrata.soql&quot;,&quot;datasetUid&quot;:&quot;8i2y-2hyr&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;priority_group&quot;,&quot;aggregationFunction&quot;:null}},&quot;label&quot;:null}],&quot;origin&quot;:{&quot;type&quot;:&quot;visualization_canvas&quot;,&quot;url&quot;:&quot;https://data.transportation.gov/d/txbc-cwwx&quot;},&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;description&quot;:&quot;The % of recalled air bags that have been replaced in each priority group.&quot;,&quot;title&quot;:&quot;Air Bag Replacement Completion by Priority Group for Groups 1-8&quot;}" data-width="800" href="http://example.com" rel="external" target="_blank">View the data</a>
</div>

<p>Grouped stacked without exposed filter (prod):</p>
<div>
  <a class="socrata-visualization-embed" data-embed-version="1" data-height="600" data-vif="{&quot;configuration&quot;:{&quot;viewSourceDataLink&quot;:true,&quot;showDimensionLabels&quot;:true,&quot;xAxisScalingMode&quot;:&quot;pan&quot;,&quot;axisLabels&quot;:{&quot;left&quot;:&quot;% Complete&quot;,&quot;bottom&quot;:&quot;Priority Group&quot;},&quot;showLegend&quot;:true},&quot;series&quot;:[{&quot;stacked&quot;:{&quot;oneHundredPercent&quot;:true},&quot;color&quot;:{&quot;secondary&quot;:&quot;#a6cee3&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;,&quot;primary&quot;:&quot;#FFCC06&quot;},&quot;type&quot;:&quot;columnChart&quot;,&quot;dataSource&quot;:{&quot;measure&quot;:{&quot;aggregationFunction&quot;:&quot;sum&quot;,&quot;columnName&quot;:&quot;total_inflators_repaired&quot;},&quot;domain&quot;:&quot;data.transportation.gov&quot;,&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;dimension&quot;,&quot;sort&quot;:&quot;asc&quot;},&quot;filters&quot;:[{&quot;function&quot;:&quot;noop&quot;,&quot;columnName&quot;:&quot;manufacturer&quot;,&quot;isHidden&quot;:true,&quot;arguments&quot;:null},{&quot;function&quot;:&quot;valueRange&quot;,&quot;arguments&quot;:{&quot;includeNullValues&quot;:false,&quot;start&quot;:1,&quot;end&quot;:8.02},&quot;columnName&quot;:&quot;priority_group&quot;,&quot;isHidden&quot;:true},{&quot;function&quot;:&quot;timeRange&quot;,&quot;arguments&quot;:{&quot;start&quot;:&quot;2017-10-26T00:00:00&quot;,&quot;end&quot;:&quot;2017-10-31T23:59:59&quot;},&quot;columnName&quot;:&quot;report_date&quot;,&quot;isHidden&quot;:true}],&quot;type&quot;:&quot;socrata.soql&quot;,&quot;datasetUid&quot;:&quot;8i2y-2hyr&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;priority_group&quot;,&quot;aggregationFunction&quot;:null}},&quot;label&quot;:null},{&quot;stacked&quot;:{&quot;oneHundredPercent&quot;:true},&quot;color&quot;:{&quot;secondary&quot;:&quot;#5b9ec9&quot;,&quot;highlight&quot;:&quot;#cccccc&quot;,&quot;primary&quot;:&quot;#0183C1&quot;},&quot;type&quot;:&quot;columnChart&quot;,&quot;dataSource&quot;:{&quot;measure&quot;:{&quot;aggregationFunction&quot;:&quot;sum&quot;,&quot;columnName&quot;:&quot;net_inflators_remaining&quot;},&quot;domain&quot;:&quot;data.transportation.gov&quot;,&quot;orderBy&quot;:{&quot;parameter&quot;:&quot;dimension&quot;,&quot;sort&quot;:&quot;asc&quot;},&quot;filters&quot;:[{&quot;function&quot;:&quot;noop&quot;,&quot;columnName&quot;:&quot;manufacturer&quot;,&quot;isHidden&quot;:true,&quot;arguments&quot;:null},{&quot;function&quot;:&quot;valueRange&quot;,&quot;arguments&quot;:{&quot;includeNullValues&quot;:false,&quot;start&quot;:1,&quot;end&quot;:8.02},&quot;columnName&quot;:&quot;priority_group&quot;,&quot;isHidden&quot;:true},{&quot;function&quot;:&quot;timeRange&quot;,&quot;arguments&quot;:{&quot;start&quot;:&quot;2017-10-26T00:00:00&quot;,&quot;end&quot;:&quot;2017-10-31T23:59:59&quot;},&quot;columnName&quot;:&quot;report_date&quot;,&quot;isHidden&quot;:true}],&quot;type&quot;:&quot;socrata.soql&quot;,&quot;datasetUid&quot;:&quot;8i2y-2hyr&quot;,&quot;dimension&quot;:{&quot;columnName&quot;:&quot;priority_group&quot;,&quot;aggregationFunction&quot;:null}},&quot;label&quot;:null}],&quot;origin&quot;:{&quot;type&quot;:&quot;visualization_canvas&quot;,&quot;url&quot;:&quot;https://data.transportation.gov/d/txbc-cwwx&quot;},&quot;format&quot;:{&quot;type&quot;:&quot;visualization_interchange_format&quot;,&quot;version&quot;:2},&quot;description&quot;:&quot;The % of recalled air bags that have been replaced in each priority group.&quot;,&quot;title&quot;:&quot;Air Bag Replacement Completion by Priority Group for Groups 1-8&quot;}" data-width="800" href="http://example.com" rel="external" target="_blank">View the data</a>
</div>
