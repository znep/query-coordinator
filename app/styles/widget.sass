html, body
  height: 100%
  overflow: hidden

.textPrompt.prompt
  color: #999999
  font-style: normal

.widgetWrapper
  background-color: $color_frame_color
  border: $frame_border_width solid $color_frame_border_color

.headerBar
  height: 4em

  .ie7 &,
  .ie6 &
    // ie6, 7 keep nested relatives in independent z-indexes;
       this was making the menu appear below the grid.
    position: relative
    z-index: 51

  h1.logo
    @include text-hiding
    background-image: $logo_image
    float: left
    height: $logo_image_height
    margin: 2px
      left: 10px
    width: $logo_image_width

  .mainMenu
    float: right
    margin: 10px
      bottom: 0

    .mainMenuButton
      @include sprite-button-icons
      @include gradient_menu_button_background
      border: 1px solid $color_menu_button_border
      -moz-border-radius: 0.3em
      -webkit-border-radius: 0.3em
      -moz-box-shadow: 1px 1px 0 #fff
      -webkit-box-shadow: 1px 1px 0 #fff
      color: $color_menu_button_text
      cursor: pointer
      display: inline-block
      font-size: 1.2em
      height: 1em
      line-height: 1em
      margin-top: -4px
      padding: 0.6em
        right: 1em
        left: 2.3em
      position: relative
      text-transform: uppercase
      .noLinearGradient &
        @include box_gradient_menu_button_background(30,3,$box_gradient_alias_fix)
        background: transparent repeat-x

      .icon
        left: 0.6em
        margin-left: 0.2em
        position: absolute
        top: 0.7em

      &:hover
        @include gradient_menu_button_background_hover
        text-decoration: none
        .noLinearGradient &
          @include box_gradient_menu_button_background_hover(30,2,$box_gradient_alias_fix)
          background: transparent repeat-x

    &.open .menuButton
      -moz-box-shadow: none
      -webkit-box-shadow: none
      .icon
        background-position: 0 0

    .menuDropdown
      margin: 0.4em 0
      min-width: 23em

      ul.menuColumns
        margin-bottom: 0

        li.menuColumn ul.menuEntries
          padding-bottom: 0

          li.menuEntry
            @include sprite-type-icons-30

            a
              color: #222
              font-size: 1.3em
              font-weight: bold
              min-width: 13em
              padding: 0.5em
                left: 4em
                right: 1em
              position: relative
              .ie6 &
                width: 13em

              .icon
                left: 1em
                margin:
                  bottom: 0.3em
                  right: 0.7em
                position: absolute
                top: 0.5em

              .subtext
                font-weight: normal

            &.about
              background-color: #f7f7f7
              border-top: 1px solid #dedede
              -moz-border-radius: 0 0 0.4em 0.4em
              -webkit-border-bottom-left-radius: 0.4em
              -webkit-border-bottom-right-radius: 0.4em
              margin-top: 1em
              padding: 0.3em
              text-align: center

              a
                border: none
                color: $color_links_normal
                font-size: 1.1em
                font-weight: normal
                padding: 1em
                .ie6 &
                  width: 17em

                .icon
                  display: none

.subHeaderBar
  background-color: $color_toolbar_color
  margin: 0 $frame_padding
  padding: 0.2em

  .ie7 &,
  .ie6 &
    // ie6, 7 keep nested relatives in independent z-indexes;
       this was making the menu appear below the grid.
    position: relative
    z-index: 50

  li.subHeaderAction
    @include sprite-menu-icons
    display: block
    float: left
    padding: 0.2em
    &.right
      float: right

    a
      color: #eee
      &:hover
        text-decoration: none
      .ie6 &
        display: block

    .ie &.datasetName
      margin: 0.2em
    .ie7 & .icon
      display: block
    .ie6 &
      height: 13px
      width: 13px
      &.datasetName
        width: auto

    &.share .menu
      height: 13px

      a.mainMenuButton
        // menu button
        cursor: pointer

      .icon .icon
        display: none

      .menuDropdown ul li ul li
        @include sprite-menu-icons
        a
          color: $color_links_normal
          min-width: 6em

.toolbar
  background-color: $color_toolbar_color
  display: none
  height: 2em
  margin: 0 $frame_padding
  overflow: hidden
  padding: 0.3em
  position: relative

  form
    display: none

  .toolbarMessage
    color: #eee
    display: none
    font-size: 1.2em
    font-weight: bold
    height: 1.4em
    padding: 0.4em

  .toolbarTextboxWrapper
    margin-right: 3em

    .toolbarTextbox
      -moz-border-radius: 0.4em
      -webkit-border-radius: 0.4em
      background-color: $color_toolbar_input_color
      border: none
      padding: 0.2em 0.4em
      width: 100%
      .ie6 &
        font-size: 1.1em
        width: 98% /* when IE tries 100%, it calculates it wrong */

  .close
    @include sprite-button-icons
    display: inline-block
    position: absolute
    right: 0.3em
    top: 0.3em

    // I don't even know anymore.
    .ie6 & .icon,
    .ie7 & .icon
      display: block

.widgetContent
  clear: both
  margin: $frame_padding
  @if $frame_orientation == "downwards"
    margin-top: 0
  @else if $frame_orientation == "upwards"
    margin-bottom: 0

  .widgetContentSection
    background-color: #fcfcfc
    display: none
    overflow-y: auto
    overflow-x: hidden

  .widgetContentClose
    @include close-button
    float: right
    margin: 1em

  .widgetContentGrid
    display: block

    // make IE6/7 display and scroll properly
    .ie6 &, .ie7 &
      position: relative

    #viewHeader
      display: none

    .gridContainer
      // make layers box position properly
      position: relative

      #data-grid
        // make bing maps position properly
        position: relative

        // make IE7 display and scroll the calendar properly
        .ie7 &.fc
          height: auto !important
          margin-right: 20px
          position: relative
          .fc-header, .fc-content
            position: relative

  .widgetContent_views,
  .widgetContent_downloads
    .gridListWrapper
      margin: 1em
        right: 4em
        top: 0
      padding-top: 2em

  .widgetContent_views .gridListWrapper table
    tbody
      .type
        @include sprite-menu-icons

  .widgetContent_comments
    // fix IE6/7 scrolling bug
    .ie6 &, .ie7 &
      position: relative

    .commentTopLevelActions
      margin: 2em
        top: 1em

      .addCommentButton
        float: right

      .datasetAverageRating
        float: left
        margin: 0.5em

    .emptyDataText
      font-size: 1.2em

    .commentsViewMoreLink
      display: block
      font-size: 1.2em
      font-weight: bold
      padding: 2em
      text-align: center

    .commentsWrapper
      margin-right: 4em
      padding: 1em

      .commentList
        padding: 0.5em
        position: relative

        .commentAuthor
          position: absolute
          &, img
            height: 35px
            width: 35px
        .commentContainer
          background-color: #fff
          border: 1px solid #999
          margin-left: 55px
          padding: 1em
          position: relative

          .commentTip
            background: transparent url(/stylesheets/images/interface/comment_tip.gif) no-repeat
            height: 10px
            left: -10px
            position: absolute
            top: 1em
            width: 10px
            .ie6 &
              left: -20px

          .commentBody, .replyBody
            font-size: 1.1em
            padding-bottom: 1em

            .commentAuthorName, .commentTitle,
            .replyAuthorName, .replyTitle
              font-weight: bold

          .commentActions, .replyActions
            .timestamp, .positiveRatings, .negativeRatings
              color: #888

            .rateUp, .rateDown
              @include sprite-menu-icons

              .ie7 & .icon
                display: block

            .timestamp, .actionReply, .actionInappropriate
              float: left
              margin-right: 1em

            .positiveRatings, .negativeRatings, .rateUp, .rateDown
              float: right
              margin-left: 1em

          .replyWrapper
            margin-top: 1em

            .replyList
              border-top: 1px solid #ddd

              .replyAuthor
                margin-top: 0.5em
                position: absolute
                &, img
                  height: 25px
                  width: 25px

              .replyContainer
                margin:
                  left: 35px
                padding:
                  bottom: 0.5em
                  top: 0.5em

            .replyViewAllLink
              font-size: 1.1em
              padding:
                bottom: 0.5em
                top: 0.5em

  .widgetContent_embed
    .embedForm
      padding: 1em

      #embed_code
        overflow: hidden
        height: 5em
        margin: 1em
          top: 0
        padding: 0.5em
        width: 45em

      .left, .right
        float: left
        padding: 1em
        width: 20em

      .sizes li
        cursor: pointer
        float: left
        width: 6em

        p
          text-align: center

        .sizePreview
          background-color: #f7f7f7
          border: 1px solid #777
          &.small
            height: 2.55em
            margin-left: 1.5em
            width: 3em
          &.medium
            height: 3.8em
            margin-left: 0.6em
            width: 4.5em
          &.large
            height: 5.1em
            width: 6em

        &:hover .sizePreview
          background-color: #f4f4f4
          border-color: #000
        &.selected .sizePreview
          background-color: #eef
          border-color: #334

      p.information
        font-style: italic
        padding-bottom: 0.4em

      .dimensions
        label
          width: 4em
        input
          width: 8em

  .widgetContent_print form
    padding: 2em

    .pageSizeHeader
      margin-bottom: -1.6em
    #uniform-page_size
      margin-left: 6em
    #page_size
      width: 18em
      .ie6 &
        margin-bottom: 1em
        left: 6em
        position: relative

    .margins .line label
      width: 4em

    .submitLine
      clear: both
      padding-top: 1em

      .submitActions li
        display: block
        float: left

// modals

.widgetModal
  background-color: #fff
  border: 1px solid #999
  -moz-border-radius: 0.4em
  -webkit-border-radius: 0.4em
  -moz-box-shadow: 0 0 4px rgba(0, 0, 0, 0.5)
  -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.5)
  display: none
  left: 50%
  margin-left: -21em
  padding: 2em
  position: absolute
  top: 6em
  width: 40em

  .interstitialClose
    @include close-button
    position: absolute
    right: 1em
    top: 1em

  h2
    color: $color_text_error
    font-size: 1.9em
    font-weight: normal
    margin-bottom: 0.8em

  p
    font-size: 1.2em

  .actions
    margin-top: 2em
    li
      float: right


// START: fullcalendar
.fc .fc-header td,
.fc .fc-header th
  padding: 0.2em

// START: GRID

.blist-table
  height: 100%

  a
    @include underline-on-hover

.blist-table-scrolls
  background-color: #fff

.blist-table-header-scrolls
  background-color: #e8e8e2

div.blist-th
  .info-container
    font-size: $grid_font_header_size

  @if $grid_header_icons == false
    .blist-th-icon
      display: none

    .icon-display .name-wrapper
      padding-left: 0

  .blist-th-name
    @if $grid_title_bold == true
      font-weight: bold

.blist-tr-even .blist-td
  background-color: $color_grid_zebra

.blist-td-header
  font-weight: bold

.blist-td
  background-color: #fff
  height: 16px
  padding: 4px /* .3636em */

  p
    margin: 0 0 6px 0
    padding: 0
    &:last-child
      margin-bottom: 0

.blist-td,
.blist-table-editor,
.blist-table .blist-combo-dd li
  font-size: $grid_font_data_size
  line-height: 16px

.blist-table .blist-tr .blist-table-row-numbers
  height: 16px
  padding: 4px

img.blist-table-option-icon
  padding-right: 4px
  padding-bottom: -1px

.blist-tstars
  margin: -4px 0

.blist-table-row-numbers.blist-tf
  background-color: #fcedc1
  .blist-tf-value:after
    content: ':'
.blist-table-row-handle.blist-tf
  background-color: #fcedc1
.blist-table-footer .blist-tf
  background-color: #fef8dc

@if $grid_wrap_header_text == true
  .blist-th .info-container
    height: 2.45em /* 30px or so */
    white-space: normal

  .blist-th .name-wrapper
    height: 2.45em

  .blist-table-header,
  .blist-th,
  .blist-th .dragHandle
    height: 4.5em

  .indicators-inactive .blist-table-header,
  .indicators-inactive .blist-th,
  .indicators-inactive .blist-th .dragHandle
    height: 3.3em