<h2><span class="icon-settings"></span> Settings</h2>
<div class="row">
  <div class="span7">
    <div class="customize-card-preview">
      <card ng-if="customizedCard"
        model="customizedCard"
        interactive="false"
        card-draggable="false"
        class="card preview"></card>
    </div>
  </div>

  <div class="span5 customize-card-options">
    <visualization-type-selector card-model="customizedCard" ng-show="availableCardTypes.length > 1">
    </visualization-type-selector>
    <div class="configure-map-base-layer" ng-show="showBaseMapLayerDropdown">
      <h3>{{'customizeCardDialog.mapLayer.title' | I18n}}</h3>
      <div>
        <div class="dropdown-container">
          <soc-select class="base-layer-selector" ng-model="baseLayerOption">
            <soc-option value="standard">{{'customizeCardDialog.mapLayer.standard' | I18n}}</soc-option>
            <soc-option value="esri">Esri</soc-option>
            <soc-option value="custom">{{'customizeCardDialog.mapLayer.custom' | I18n}}</soc-option>
          </soc-select>
        </div>
        <input name="customLayerUrl"
          type="url"
          class="dark"
          placeholder="http://domain.com/.../{x}/{y}/{z}.png"
          ng-model="customLayerUrl"
          ng-pattern="TILEURL_REGEX"
          ng-show="baseLayerOption === 'custom'"
          ng-min-length="5"
          ng-max-length="5165"/>
      </div>
    </div>
    <div class="configure-flannel-title" ng-show="showFlannelTitleMenu">
      <h3>{{'customizeCardDialog.featureMapFlannel.title' | I18n}}</h3>
      <div class="dropdown-container">
        <soc-select class="column-selector flannel-title-selector" ng-model="selectedFlannelTitleColumnName">
          <soc-option
            value="null"
            ng-selected="selectedFlannelTitleColumnName === null">{{'addCardDialog.chooseColumn' | I18n}}</soc-option>
          <soc-option
            value="{{fieldName}}"
            ng-selected="selectedFlannelTitleColumnName === fieldName"
            ng-repeat="fieldName in titleColumnOptions">{{columnHumanNameFn(fieldName)}}</soc-option>
        </soc-select>
      </div>
    </div>
    <div class="configure-histogram-bucket-type" ng-show="showHistogramBucketTypeDropdown">
      <h3>{{'customizeCardDialog.histogramBucketType.title' | I18n}}</h3>
      <div>
        <div class="dropdown-container" ng-class="{ 'warning-dropdown': showBucketTypeWarning }">
          <soc-select ng-model="histogramBucketOption">
            <soc-option value="logarithmic">{{'customizeCardDialog.histogramBucketType.logarithmic' | I18n}}</soc-option>
            <soc-option value="linear">{{'customizeCardDialog.histogramBucketType.linear' | I18n}}</soc-option>
          </soc-select>
          <span class="warning-icon icon-warning"></span>
        </div>
        <div class="option-help-text">{{histogramBucketHelpText}}</div>
      </div>
    </div>
  </div>
</div>

<div class="controls">
  <button class="action-btn dark" ng-click="updateCard()">{{'common.done' | I18n}}</button>
  <button class="action-btn dark" ng-click="dialogState.show = false">{{'common.cancel' | I18n}}</button>
</div>
