<%- prefix = 'screens.admin.index' %>
<% content_for :head do %>
  <%= rendered_stylesheet_tag 'administration-screen' %>
  <%= rendered_stylesheet_tag 'administration-index-screen' %>
  <title>Administration | <%= CurrentDomain.strings.site_title %></title>
<% end %>

<%= render :partial => 'left_nav' %>

<div class="contentBox withLeftNavigation">
  <%= display_standard_flashes %>

  <ul class="adminList">
      <li class="analytics">
        <%= admin_nav_link_to t("#{prefix}.site_analytics"), :controller => '/administration', :action => 'analytics' %>
        <span class="description">
          <%= t("#{prefix}.site_analytics_description") %>
        </span>
      </li>
    <%- if CurrentDomain.user_can?(current_user, UserRights::MANAGE_USERS) -%>
      <li class="users">
        <%= admin_nav_link_to t("#{prefix}.users"), :controller => '/administration', :action => 'users' %>
        <span class="description">
          <%= t("#{prefix}.users_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::FEDERATIONS) && module_available?(:federations) -%>
      <li class="federation">
        <%= admin_nav_link_to t("#{prefix}.federation"), :controller => '/administration', :action => 'federations' %>
        <span class="description">
          <%= t("#{prefix}.federation_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::MODERATE_COMMENTS) && module_enabled?(:publisher_comment_moderation) -%>
      <li class="comments">
        <%= admin_nav_link_to t("#{prefix}.comment_moderation"), :controller => '/administration', :action => 'comment_moderation' %>
        <span class="description">
          <%= t("#{prefix}.comment_moderation_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::APPROVE_NOMINATIONS) && feature?(:view_moderation) -%>
      <li class="viewmoderation">
        <%= admin_nav_link_to t("#{prefix}.view_moderation"), :controller => '/administration', :action => 'views' %>
          <span class="description">
            <%= t("#{prefix}.view_moderation_description") %>
          </span>
      </li>
    <%- end -%>
    <%- if user_can?(current_user, UserRights::EDIT_SDP) -%>
      <li class="appearance">
        <%= admin_nav_link_to t("#{prefix}.sdp_templates"), :controller => '/administration', :action => 'sdp_templates' %>
        <span class="description">
          <%= t("#{prefix}.sdp_templates_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::EDIT_PAGES) && module_enabled?(:canvas_designer) -%>
      <li class="contentmgmt">
        <%= admin_nav_link_to t("#{prefix}.dataslate_pages"), :controller => '/administration', :action => 'canvas_pages' %>
        <span class="description">
          <%= t("#{prefix}.dataslate_pages_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::EDIT_OTHERS_DATASETS) ||
            CurrentDomain.user_can?(current_user, UserRights::EDIT_SITE_THEME) -%>
      <li class="datasets">
        <%= admin_nav_link_to t("#{prefix}.datasets"), :controller => '/administration', :action => 'datasets' %>
        <span class="description">
          <%= t("#{prefix}.datasets_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if can_view_georegions_admin?(current_user) -%>
      <li class="georegions">
        <%= admin_nav_link_to t("#{prefix}.georegions"), :controller => '/administration', :action => 'georegions' %>
        <span class="description">
          <%= t("#{prefix}.georegions_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if enable_site_chrome_admin_panel? %>
      <li class="homemgmt">
        <%= admin_nav_link_to t("#{prefix}.site_chrome"), :controller => '/site_chrome', :action => 'edit' %>
        <span class="description">
          <%= t("#{prefix}.site_chrome_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::MANAGE_STORIES) ||
            CurrentDomain.user_can?(current_user, UserRights::FEATURE_ITEMS) ||
            CurrentDomain.user_can?(current_user, UserRights::EDIT_SITE_THEME) -%>
      <li class="homemgmt">
        <%= admin_nav_link_to t("#{prefix}.home_page"), :controller => '/administration', :action => 'home' %>
        <span class="description">
          <%= t("#{prefix}.home_page_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if CurrentDomain.user_can?(current_user, UserRights::EDIT_SITE_THEME) -%>
      <li class="metadata">
        <%= admin_nav_link_to t("#{prefix}.metadata"), :controller => '/administration', :action => 'metadata' %>
        <span class="description">
          <%= t("#{prefix}.metadata_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if module_enabled?(:routing_approval) && current_user.can_approve? -%>
      <li class="routingApproval">
        <%= admin_nav_link_to t("#{prefix}.dataset_routing_and_approval"), :controller => '/administration/routing_approval', :action => 'index' %>
        <span class="description">
          <%= t("#{prefix}.dataset_routing_and_approval_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if FeatureFlags.derive(nil, request).show_admin_processes &&
            CurrentDomain.user_can?(current_user, UserRights::VIEW_ALL_DATASET_STATUS_LOGS) %>
      <li class="activity-feed">
        <%= admin_nav_link_to t("#{prefix}.jobs"), :controller => '/administration/activity_feed', :action => 'index' %>
        <span class="description">
          <%= t("#{prefix}.jobs_description") %>
        </span>
      </li>
    <%- end %>
    <%- if current_user && current_user.is_admin? -%>
      <li class="internal">
        <%= admin_nav_link_to t("#{prefix}.internal"), :controller => 'internal', :action => 'index' %>
        <span class="description">
          <%= t("#{prefix}.internal_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if current_user.try(:is_admin?) && feature_flag?('stories_enabled', request) -%>
      <li class="contentmgmt">
        <%= admin_nav_link_to t("#{prefix}.stories"), '/stories/admin/themes' %>
        <span class="description">
          <%= t("#{prefix}.stories_description") %>
        </span>
      </li>
    <%- end -%>
    <%- if feature_flag?('enable_catalog_connector', request) && CurrentDomain.user_can?(current_user, UserRights::VIEW_ALL_DATASET_STATUS_LOGS) %>
      <li class="connectors">
        <%= admin_nav_link_to t("#{prefix}.connectors"), :controller => '/administration/connector', :action => 'connectors' %>
        <span class="description">
          <%= t("#{prefix}.connectors_description") %>
        </span>
      </li>
    <%- end %>
  </ul>
</div>

<%= render_admin_userzoom %>
