default: &default
  rpx_signin_url: https://socrata-test.rpxnow.com/openid/v2/signin
  rpx_facebook_url: https://socrata-test.rpxnow.com/facebook/start
  rpx_windowslive_url: https://socrata-test.rpxnow.com/liveid/start
  rpx_twitter_url: https://socrata-test.rpxnow.com/twitter/start

  app_token: {{ APP_TOKEN }}
  data_cards_app_token: {{ DATA_CARDS_APP_TOKEN }}

  {% if FEATURE_MAP_ZOOM_DEBOUNCE is defined -%}
  feature_map_zoom_debounce: {{ FEATURE_MAP_ZOOM_DEBOUNCE }}
  {% else %}
  feature_map_zoom_debounce: 500
  {%- endif %}

  {% if ENABLE_SEARCH_SUGGESTIONS is defined -%}
  enable_search_suggestions: {{ ENABLE_SEARCH_SUGGESTIONS }}
  {% else -%}
  enable_search_suggestions: true
  {% endif -%}

  {% if ODUX_ENABLE_FEATURE_MAP is defined -%}
  odux_enable_feature_map: {{ ODUX_ENABLE_FEATURE_MAP }}
  {% else -%}
  odux_enable_feature_map: true
  {% endif -%}

  {% if FEATURE_MAP_DISABLE_PAN_ZOOM is defined -%}
  feature_map_disable_pan_zoom: {{ FEATURE_MAP_DISABLE_PAN_ZOOM }}
  {% else -%}
  feature_map_disable_pan_zoom: false
  {% endif -%}

  {% if ENABLE_PNG_DOWNLOAD_UI -%}
  enable_png_download_ui: {{ ENABLE_PNG_DOWNLOAD_UI }}
  {% else -%}
  enable_png_download_ui: true
  {% endif -%}

  {% if FEATURE_MAP_FEATURES_PER_TILE is defined -%}
  feature_map_features_per_tile: {{ FEATURE_MAP_FEATURES_PER_TILE }}
  {% else %}
  feature_map_features_per_tile: 50000
  {%- endif %}

  {% if SHAPE_FILE_REGION_QUERY_LIMIT is defined -%}
  shape_file_region_query_limit: {{ SHAPE_FILE_REGION_QUERY_LIMIT }}
  {% else %}
  shape_file_region_query_limit: 5000
  {%- endif %}

  zk_hosts: '{{ ZOOKEEPER_HOSTS }}'
  coreservice_uri: http://{{ CORESERVICE_URI }}
  odysseus_uri: http://{{ ODYSSEUS_HOST }}
  odysseus_app_name: {{ ODYSSEUS_APP_NAME }}
  cetera_host: {{ CETERA_HOST }}

  {% if KAFKA_REST_URI is defined -%}
  kafka_rest_uri: {{ KAFKA_REST_URI }}
  {%- endif %}

  {% if INTERCESSIO_SERVER is defined -%}
  intercessio_uri: http://{{ INTERCESSIO_SERVER }}:1313
  {%- endif %}

  {% if STATSD_ENABLED is defined and STATSD_SERVER is defined -%}
  statsd_enabled: {{ STATSD_ENABLED }}
  statsd_server: {{ STATSD_SERVER }}
  {% else %}
  statsd_enabled: false
  {%- endif %}

  {% if METRICS_DIR is defined -%}
  metrics_dir: {{ METRICS_DIR }}
  {% else %}
  metrics_dir: tmp/metriclogs
  {% endif -%}

  {% if MIXPANEL_TOKEN is defined -%}
  mixpanel_token: {{ MIXPANEL_TOKEN }}
  {%- endif %}

  {% if GOOGLE_ANALYTICS_TRACKING_CODE is defined -%}
  opendata_ga_tracking_code: {{ GOOGLE_ANALYTICS_TRACKING_CODE }}
  {%- endif %}

  {% if POLAROID_HOSTNAME is defined and POLAROID_PORT is defined -%}
  polaroid_hostname: {{ POLAROID_HOSTNAME }}
  polaroid_port: {{ POLAROID_PORT }}
  {%- endif %}

  {% if TILESERVER_HOSTNAME is defined and TILESERVER_PORT is defined -%}
  tileserver_hostname: {{ TILESERVER_HOSTNAME }}
  tileserver_port: {{ TILESERVER_PORT }}
  {%- endif %}

  {% if TILESERVER_HOSTS is defined -%}
  tileserver_hosts: '{{ TILESERVER_HOSTS }}'
  {%- endif %}

  {% if AUTH0_URI is defined and AUTH0_CLIENT_ID is defined and AUTH0_CLIENT_SECRET is defined and AUTH0_JWT is defined -%}
  auth0_uri: {{ AUTH0_URI }}
  auth0_id: {{ AUTH0_CLIENT_ID }}
  auth0_secret: {{ AUTH0_CLIENT_SECRET }}
  auth0_jwt: {{ AUTH0_JWT }}
  {%- endif %}

  {% if CONSUL_HOST is defined -%}
  consul_host: {{ CONSUL_HOST }}
  {%- endif %}

development:
  <<: *default
  max_core_server_requests: 15

staging:
  <<: *default
  max_core_server_requests: 15

fedramp-prod::
  <<: *default
  max_core_server_requests: 15

rc:
  <<: *default
  max_core_server_requests: 15

production:
  <<: *default
  rpx_signin_url: https://socrata.rpxnow.com/openid/v2/signin
  rpx_facebook_url: https://socrata.rpxnow.com/facebook/start
  rpx_windowslive_url: https://socrata.rpxnow.com/liveid/start
  rpx_twitter_url: https://socrata.rpxnow.com/twitter/start
