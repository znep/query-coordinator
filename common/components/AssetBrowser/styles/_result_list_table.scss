@import "variables/colors";
@import "action_dropdown";
@import "action_modal";

$result_list_row_bg_color: $white;
$result_list_row_bg_hover_color: $primary-light;

// NOTE! All styling declared here applies to ALL styleguide result list tables,
// not just the one in this component.

.asset-browser {
  table.result-list-table {
    table-layout: fixed;
    min-width: 985px; // below this point, the percentage-width column headers start to
                      // collide with the asc/desc arrow.
    width: 100%;
    margin: 0;

    &.table-borderless thead {
      tr {
        th {
          &:last-of-type {
            border-right: none;
          }
        }
      }
    }

    thead {
      tr {
        th {
          white-space: nowrap;
          background: $light-grey-5;
          border: 1px solid $light-grey-3;
          cursor: pointer;
          user-select: none;
          position: relative;

          &.active {
            font-weight: 600;
            background: $light-grey-4;
          }

          .ascending-arrow, .descending-arrow {
            display: none;
            position: absolute;
            right: 0.5rem;
          }

          &.ascending {
            .ascending-arrow {
              display: inline-block;
            }
          }

          &.descending {
            .descending-arrow {
              display: inline-block;
            }
          }

        }
      }
    }

    tr.result-list-row {
      background: $result_list_row_bg_color;

      &:hover {
        background: $result_list_row_bg_hover_color;
      }

      td {
        &:first-child {
          text-align: center;
        }

        overflow: hidden;
        text-overflow: ellipsis;

        span.socrata-icon {
          line-height: normal;
        }

        &.actions {
          overflow: visible; // Prevent action flyout from being cut off
        }

        &.name {
          a {
            text-decoration: none;
            &:hover, &:focus {
              text-decoration: underline;
            }
          }

          span.name {
            font-size: 15px;
          }

          span.tag-official, span.tag-community {
            margin-left: 14px;
            font-size: 22px;

            span[class*='socrata-icon-'] {
              position: relative;
              top: 4px; // The icons are not exactly the same height :/
            }
          }

          span.description {
            display: block;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
        }

        &.type {
          span.socrata-icon {
            height: 20px;
            width: 20px;
          }
        }

        &.visibility {
          * {
            font-weight: 600;
          }

          .title {
            display: flex;
            align-items: baseline;

            strong {
              margin-left: 0.25rem;
            }
          }

          .visibility-description {
            color: $light-grey-1;
          }
        }
      }
    }
  }

  .my-assets, .shared-to-me, .all-assets {
    table.result-list-table {
      thead tr th {
        // EN-16995: fixed percentage widths for columns. If a new column is added,
        // these will need to be re-calculated to add up to 100%.
        &.type {
          width: 6%;
        }
        &.name {
          width: 35%
        }
        &.actions {
          width: 6%;
        }
        &.last-updated-date {
          width: 12%;
        }
        &.category {
          width: 15%;
        }
        &.owner {
          width: 15%;
        }
        &.visibility {
          width: 10%;
        }

        &.actions, &.visibility {
          cursor: not-allowed;
        }
      }
    }
  }

  .my-queue {
    table.result-list-table {
      thead tr th {
        &.type {
          width: 6%;
        }
        &.name {
          width: 29%
        }
        &.approval-requested {
          width: 19%;
        }
        &.owner {
          width: 14%;
        }
        &.status {
          width: 14%;
        }
        &.actions {
          width: 18%;
        }

        &.actions, &.approval-requested, &.status {
          cursor: not-allowed;
        }
      }

      tbody {
        tr.result-list-row {
          .actions {
            .approval-action-buttons button:first-of-type {
              margin-right: 0.5rem;
            }
          }
        }
      }
    }
  }
}
