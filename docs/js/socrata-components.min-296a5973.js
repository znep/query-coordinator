!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("velocity-animate"),require("tether-shepherd"),require("lodash"),require("classnames"),require("react"),require("jquery"),require("socrata-utils"),require("dotdotdot"),require("dompurify"),require("react-dom")):"function"==typeof define&&define.amd?define(["velocity-animate","tether-shepherd","lodash","classnames","react","jquery","socrata-utils","dotdotdot","dompurify","react-dom"],t):"object"==typeof exports?exports.styleguide=t(require("velocity-animate"),require("tether-shepherd"),require("lodash"),require("classnames"),require("react"),require("jquery"),require("socrata-utils"),require("dotdotdot"),require("dompurify"),require("react-dom")):e.styleguide=t(e["velocity-animate"],e["tether-shepherd"],e.lodash,e.classnames,e.react,e.jquery,e["socrata-utils"],e.dotdotdot,e.dompurify,e["react-dom"])}(this,function(e,t,n,r,o,a,i,l,s,u){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(1),a=r(o),i=n(2),l=r(i),s=n(4),u=r(s),c=n(5),d=r(c),p=n(6),f=r(p),h=n(7),m=r(h),v=n(8),y=r(v),g=n(9),b=r(g),E=n(11),P=r(E),C=n(18),T=r(C),k=n(21),S=r(k),w=n(22),O=r(w),_=n(26),N=r(_),x=n(27),M=r(x),L=n(48),A=r(L),R=n(34),D=r(R);e.exports={attachTo:function(e){Object.keys(this.factories).forEach(function(t){new this.factories[t](e)},this)},factories:{DropdownFactory:a.default,FlannelFactory:l.default,FlyoutFactory:u.default,MenuFactory:d.default,ModalFactory:f.default,TabsFactory:m.default,ToggleFactory:y.default,TourFactory:b.default},ColorPicker:P.default,Dropdown:T.default,Picklist:S.default,ViewCard:O.default,ExternalViewCard:N.default,FilterBar:M.default,InfoPane:A.default,Slider:D.default}},function(e,t){"use strict";var n=function(e){this.dd=e,this.orientation=this.dd.getAttribute("data-orientation")||"bottom",this.selectable=this.dd.hasAttribute("data-selectable"),this.dd.classList.add("dropdown-orientation-"+this.orientation),this.placeholder=this.dd.querySelector("span"),this.opts=Array.prototype.slice.call(this.dd.querySelectorAll(".dropdown-options > li")),this.dd.dataset.value="",this.dd.dataset.index=-1,this.initEvents()};n.prototype={initEvents:function(){function e(){var e=t.dd.querySelector(".dropdown-options"),n=e.offsetWidth,r=document.body.offsetWidth,o=e,a=0;do a+=o.offsetLeft,o=o.offsetParent;while(null!==o);if(n+a>=r||e.style.left){var i=t.dd.getBoundingClientRect().width,l=-(n-i);e.style.left=l+"px"}}var t=this;e(),t.dd.addEventListener("click",function(){return e(),t.dd.classList.toggle("active"),!1}),t.selectable&&t.opts.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();for(var r=e.previousElementSibling,o=0;null!==r;)o++,r=r.previousElementSibling;return t.dd.dataset.value=e.textContent,t.dd.dataset.index=o,t.placeholder.innerHTML=e.innerText.trim(),!1})}),document.addEventListener("click",function(e){for(var n=e.target;n.parentElement&&!n.classList.contains("dropdown");)n=n.parentElement;n!==t.dd&&t.dd.classList.remove("active")}),window.addEventListener("resize",function(){e()})}},e.exports=function(e){this.dropdowns=Array.prototype.slice.call(e.querySelectorAll("[data-dropdown]")),this.dropdowns.forEach(function(e){new n(e)})}},function(e,t,n){"use strict";var r=n(3);e.exports=function(){function e(e,t){window.innerWidth<=n?r(e,{left:window.innerWidth},{duration:o,easing:a,complete:function(){e.classList.add("flannel-hidden"),t.classList.remove("active")}}):(e.classList.add("flannel-hidden"),t.classList.remove("active")),document.body.classList.remove("modal-open");var i=e.children[0]||e;i.removeAttribute("tabindex"),i.style.outline="",l&&(l.focus(),l=null)}function t(e,t){var r=16,o=0,a=0,i=e.getBoundingClientRect().width,l=document.body.offsetWidth,s=window.innerWidth;if(s<=n)return e.classList.contains("flannel-hidden")?document.body.classList.remove("modal-open"):document.body.classList.add("modal-open"),e.style.left=0,void(e.style.top=0);var u=t.getBoundingClientRect();o=u.left+t.offsetWidth/2,a=u.top+t.offsetHeight+r,o+i>l&&s>n?(e.classList.remove("flannel-right"),e.classList.add("flannel-left"),o-=i):(e.classList.remove("flannel-left"),e.classList.add("flannel-right")),e.style.left=o+"px",e.style.top=a+"px",document.body.classList.remove("modal-open")}var n=420,o=300,a=[.645,.045,.355,1],i=Array.prototype.slice.apply(document.querySelectorAll("[data-flannel]")),l=null;i.forEach(function(i){var s=i.getAttribute("data-flannel"),u=document.querySelector("#"+s),c=Array.prototype.slice.apply(u.querySelectorAll("[data-flannel-dismiss]"));c.forEach(function(t){t.addEventListener("click",function(){e(u,i)})}),i.addEventListener("click",function(e){var s=window.innerWidth;e.preventDefault(),e.stopPropagation(),s>n?(u.classList.toggle("flannel-hidden"),t(u,i)):(u.classList.remove("flannel-hidden"),u.style.left=s+"px",u.style.top=0,document.body.classList.add("modal-open"),r(u,{left:0},{duration:o,easing:a})),l=document.querySelector(":focus");var c=u.children[0]||u;c.setAttribute("tabindex","0"),c.focus(),c.style.outline="none"});var d=t.bind(null,u,i);window.addEventListener("scroll",d),window.addEventListener("wheel",d),document.body.addEventListener("click",function(t){var n=t.target;if(n!==i&&!u.classList.contains("flannel-hidden")){for(;n.parentElement;){if(n.id===s)return;n=n.parentElement}e(u,i)}}),document.body.addEventListener("keyup",function(t){var n=t.which||t.keyCode;27===n&&e(u,i)}),window.addEventListener("resize",function(){u.classList.contains("flannel-hidden")||t(u,i)})})}},function(t,n){t.exports=e},function(e,t){"use strict";e.exports=function(e){var t=Array.prototype.slice.apply(e.querySelectorAll("[data-flyout]"));t.forEach(function(t){var n=e.querySelector("#"+t.getAttribute("data-flyout")),r=function(){n.classList.remove("flyout-hidden")},o=function(){var e=0,r=0,o=16,a=n.offsetWidth,i=document.body.offsetWidth,l=t.getBoundingClientRect();e=l.left+t.offsetWidth/2,r=l.top+t.offsetHeight+o,e+a>i?(n.classList.remove("flyout-right"),n.classList.add("flyout-left"),e-=a):(n.classList.remove("flyout-left"),n.classList.add("flyout-right")),n.style.left=e+"px",n.style.top=r+"px"};window.addEventListener("scroll",o),window.addEventListener("wheel",o),t.addEventListener("mouseover",function(){r(),o()}),t.addEventListener("mouseout",function(){n.classList.add("flyout-hidden")})})}},function(e,t){"use strict";e.exports=function(e){var t=Array.prototype.slice.call(e.querySelectorAll(".menu")),n=Array.prototype.slice.call(e.querySelectorAll("[data-menu-toggle]"));n.forEach(function(t){t.addEventListener("click",function(){var n=e.querySelector("#"+t.getAttribute("data-menu-toggle"));n.classList.toggle("active")})}),t.forEach(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("[data-menu-dismiss]"));t.forEach(function(t){t.addEventListener("click",function(){e.classList.remove("active"),document.querySelector('[data-menu-toggle="'+e.id+'"]').classList.remove("active")})})})}},function(e,t,n){"use strict";var r=n(3),o=420,a=300,i=[.645,.045,.355,1],l=e.exports=function(e){this.root=e,this.dismissals=Array.prototype.slice.apply(e.querySelectorAll("[data-modal-dismiss]")),this.openers=Array.prototype.slice.apply(e.querySelectorAll("[data-modal]")),this.lastFocusedItem=null,this.attachEvents()};l.prototype={attachEvents:function(){this.dismissals.forEach(function(e){e.addEventListener("click",this.dismiss.bind(this))},this),this.openers.forEach(function(e){e.addEventListener("click",this.open.bind(this))},this),document.addEventListener("keyup",function(e){var t=e.which||e.keyCode;if(27===t){var n=Array.prototype.slice.call(document.querySelectorAll(".modal:not(.modal-hidden)"));n.forEach(function(e){e.classList.add("modal-hidden"),document.body.classList.remove("modal-open"),this.restoreFocus(e)}.bind(this))}}.bind(this)),window.addEventListener("resize",function(){var e=Array.prototype.slice.call(document.querySelectorAll(".modal:not(.modal-hidden)"));e.forEach(function(e){this.reposition(e.querySelector(".modal-container"))}.bind(this))}.bind(this))},open:function(e){var t=e.target.getAttribute("data-modal");t=this.root.querySelector("#"+t),t.classList.remove("modal-hidden"),document.body.classList.add("modal-open");var n=window.innerWidth,l=t.querySelector(".modal-container");n<=o&&(l.style.left=n+"px",r(l,{left:0},{duration:a,easing:i})),this.lastFocusedItem=document.querySelector(":focus");var s=l.children[0]||l;s.setAttribute("tabindex","0"),s.focus(),s.style.outline="none",this.reposition(l)},dismiss:function(e){function t(){u&&(document.body.classList.remove("modal-open"),n.classList.add("modal-hidden"),l.restoreFocus(n))}var n,l=this,s=e.target,u=s===e.currentTarget&&s.classList.contains("modal-overlay");do{if(s.hasAttribute("data-modal-dismiss")&&!s.classList.contains("modal"))u=!0;else if(s.classList.contains("modal")){n=s;break}s=s.parentNode}while(s!==l.root);if(n){var c=window.innerWidth,d=n.querySelector(".modal-container");c<=o&&u?r(d,{left:c},{duration:a,easing:i,complete:t}):t()}},restoreFocus:function(e){var t=e.querySelector(".modal-container").children[0]||e;t.removeAttribute("tabindex"),t.style.outline="",this.lastFocusedItem&&(this.lastFocusedItem.focus(),this.lastFocusedItem=null)},reposition:function(e){if(!e.classList.contains("modal-hidden")){var t=window.innerWidth;t>o?e.style.margin="":e.style.margin=0}}}},function(e,t){"use strict";e.exports=function(e){var t=Array.prototype.slice.call(e.querySelectorAll("[data-tabs]"));t.forEach(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("[data-tab-id]")),n=Array.prototype.slice.call(e.querySelectorAll("[data-tab-content]"));t.forEach(function(r){r.addEventListener("click",function(o){o.preventDefault();var a=o.currentTarget.dataset.tabId;t.forEach(function(e){e.classList.remove("current")}),n.forEach(function(e){e.classList.remove("current")}),r.classList.add("current"),e.querySelector("#"+a).classList.add("current")})})})}},function(e,t){"use strict";var n=e.exports=function(e){var t=Array.prototype.slice.apply(e.querySelectorAll("[data-toggle]"));this.element=e,t.forEach(function(e){e.addEventListener("click",this.toggle.bind(this))},this)};n.prototype={toggle:function(e){var t=e.target;do{if(t.hasAttribute("data-toggle"))return t.classList.toggle("active");t=t.parentNode}while(t!==this.element)}}},function(e,t,n){"use strict";var r=n(10),o=function(e,t){var n={bubbles:!1,cancelable:!1,detail:void 0};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o},a=e.exports=function(e){if(this.root=e,this.tourElements=Array.prototype.slice.apply(e.querySelectorAll("[data-tour]")),this.tourElements.length>0){this.tours={},this.currentTourName=null,this.openers=Array.prototype.slice.apply(e.querySelectorAll("[data-tour-opener]"));var t=document.createElement("div");if(t.classList.add("tour-overlay"),t.classList.add("overlay-hidden"),this.tourOverlay=document.body.appendChild(t),this.initialize(),this.openers.length<this.tourElements.length){var n=this,r=n.openers.map(function(e){return e.getAttribute("data-tour-opener")});n.tourElements.forEach(function(e){var t=e.getAttribute("data-tour-name");r.includes(t)||n.openTour(t)})}}};a.prototype={initialize:function(){var e=this;e.tourElements.forEach(function(t){e.initializeTour(t)}),e.attachEvents()},initializeTour:function(e){var t=this,n=e.getAttribute("data-tour-name"),o=new r.Tour({defaults:{showCancelLink:!0,buttons:[{text:e.getAttribute("data-tour-skip"),classes:"btn-default",action:function(){t.closeTour(n)}},{text:e.getAttribute("data-tour-next"),classes:"btn-primary",action:function(){t.clickNext(n)}}]}});t.tours[n]={tour:o,name:n},t.addSteps(o,e)},addSteps:function(e,t){var n=this,r=Array.prototype.slice.apply(t.querySelectorAll("[data-tour-step]")),o=r.sort(function(e,t){var n=parseInt(e.getAttribute("data-step-number"),10),r=parseInt(t.getAttribute("data-step-number"),10);return n>r?1:n<r?-1:0});o.forEach(function(r,a){var i={title:r.getAttribute("data-title")||"",text:r.innerHTML},l=r.getAttribute("data-classes")||"",s=r.getAttribute("data-attach-to-element"),u=r.getAttribute("data-attach-to-position"),c={left:"0 25px",right:"0 -25px",top:"25px 0",bottom:"-25px 0"}[u];l&&(i.classes=l.split(" ")),s&&u&&c&&(i.attachTo={element:s,on:u},i.tetherOptions={offset:c}),o.length-1===a&&(i.buttons=[{text:t.getAttribute("data-tour-done"),classes:"btn-primary",action:function(){var e=t.getAttribute("data-tour-name");n.clickDone(e)}}]),e.addStep(i),e.on("active",function(){n.tourOverlay.classList.remove("overlay-hidden")}),e.on("inactive",function(){n.tourOverlay.classList.add("overlay-hidden")})})},attachEvents:function(){var e=this;e.openers.forEach(function(t){var n=e.openTour.bind(e,t.getAttribute("data-tour-opener"));t.addEventListener("click",n)},e),document.addEventListener("keyup",function(t){var n=t.which||t.keyCode;null!==e.currentTourName&&27===n&&e.closeTour(e.currentTourName)}),e.tourOverlay.addEventListener("click",function(){e.closeTour(e.currentTourName)})},openTour:function(e){var t=this.tours[e];this.currentTourName=t.name,t.tour.start(),this.tourOverlay.classList.remove("overlay-hidden")},clickDone:function(e){var t=this.tours[e],n={currentStep:t.tour.getCurrentStep().id.replace("step-",""),tourName:t.name},r=new o("SOCRATA_STYLEGUIDE_TOUR_COMPLETE",{detail:n});document.dispatchEvent(r),t.tour.complete()},clickNext:function(e){var t=this.tours[e],n={currentStep:t.tour.getCurrentStep().id.replace("step-",""),tourName:t.name};document.dispatchEvent(new o("SOCRATA_STYLEGUIDE_TOUR_NEXT",{detail:n})),t.tour.next()},closeTour:function(e){var t=this.tours[e],n={currentStep:t.tour.getCurrentStep().id.replace("step-",""),tourName:t.name},r=new o("SOCRATA_STYLEGUIDE_TOUR_CLOSED",{detail:n});document.dispatchEvent(r),t.tour.cancel()}}},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=void 0;var o=n(12),a=r(o),i=n(13),l=r(i),s=n(14),u=r(s),c=n(15),d=n(17),p=t.ColorPicker=u.default.createClass({displayName:"ColorPicker",propTypes:{id:u.default.PropTypes.string,value:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.array,u.default.PropTypes.object]),palette:u.default.PropTypes.array,handleColorChange:u.default.PropTypes.func,bucketRevealDirection:u.default.PropTypes.string},getDefaultProps:function(){return{type:"single",value:"#204490",palette:["#204490","#9A2600","#B26B00","#006A01","#6B176C","#006A8B","#9B2D52","#457800","#2F62CF","#DE3700","#FF9A00","#009802","#9A229B","#0098C8","#DF4176","#64AC00","#6D91DD","#E7734D","#FFB84D","#4DB74E","#B864B9","#4DB7D8","#E87A9F","#92C54D"],handleColorChange:a.default.noop}},getInitialState:function(){return{selectedColor:this.props.value,showingBuckets:!1}},componentDidUpdate:function(e,t){!t.showingBuckets&&this.state.showingBuckets&&this.colorBucketsRef.focus()},onClickColorFrame:function(){this.setState({showingBuckets:!this.state.showingBuckets})},onClickBucket:function(e){this.setState({showingBuckets:!1,selectedColor:e}),this.props.handleColorChange(e),this.colorPickerRef.focus()},onClose:function(){this.setState({showingBuckets:!1})},onChangeInputColor:function(e){var t=e.target.value,n=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);n&&this.props.handleColorChange(t),this.setState({selectedColor:t})},onKeyDownColorPicker:function(e){(0,d.isolateEventByKeys)(e,[d.DOWN])},onKeyUpColorPicker:function(e){var t=e.keyCode;(0,d.isolateEventByKeys)(e,[d.DOWN,d.ESCAPE]),t===d.DOWN?this.setState({showingBuckets:!0}):t===d.ESCAPE&&this.onClose()},onKeyUpColorBucket:function(e,t){var n=t.keyCode;(0,d.isolateEventByKeys)(t,[d.ENTER,d.SPACE,d.ESCAPE]),n===d.ENTER||n===d.SPACE?this.onClickBucket(e):n===d.ESCAPE&&this.onClose()},onKeyDownColorBucket:function(e){(0,d.isolateEventByKeys)(e,[d.ENTER,d.SPACE])},onKeyUpHexInput:function(e){var t=e.keyCode;(0,d.isolateEventByKeys)(e,[d.ENTER,d.ESCAPE]),t===d.ENTER?(this.onChangeInputColor(e),this.setState({showingBuckets:!1}),this.colorPickerRef.focus()):t===d.ESCAPE&&this.onClose()},renderColorBucket:function(e,t){var n=e===this.state.selectedColor,r={key:t,id:e,tabIndex:0,role:"option",onClick:this.onClickBucket.bind(this,e),onKeyUp:this.onKeyUpColorBucket.bind(this,e),onKeyDown:this.onKeyDownColorBucket,style:{backgroundColor:e},"aria-selected":n,"aria-label":(0,c.translate)("color_picker.pickable_color")+" "+e,className:(0,l.default)("color-bucket",{"selected-color":n})};return u.default.createElement("div",r)},renderColorBuckets:function(){var e=this,t=this.props,n=t.palette,r=t.bucketRevealDirection,o=this.state,i=o.selectedColor,s=o.showingBuckets,c=a.default.map(n,this.renderColorBucket),d=(0,l.default)("color-buckets-container",{hidden:!s,"reveal-from-top":"top"===r}),p={className:"color-buckets color-"+n.length,ref:function(t){return e.colorBucketsRef=t},role:"listbox",tabIndex:0,"aria-activedescendant":i},f={type:"text",value:i,onChange:this.onChangeInputColor,onKeyUp:this.onKeyUpHexInput};return u.default.createElement("div",{className:d},u.default.createElement("div",p,c),u.default.createElement("input",f))},renderColorFrame:function(){var e=this,t=this.state.selectedColor,n=(0,c.translate)("color_picker.open_color_picker"),r=(0,c.translate)("color_picker.with_currently_selected_color"),o=t?n+" "+r+" "+t:n,a={className:"color-frame",onClick:this.onClickColorFrame,role:"button",tabIndex:0,onKeyUp:this.onKeyUpColorPicker,onKeyDown:this.onKeyDownColorPicker,ref:function(t){return e.colorPickerRef=t},"aria-label":o},i={className:"selected-color-frame",style:{backgroundColor:t}};return u.default.createElement("div",a,u.default.createElement("div",i),u.default.createElement("div",{className:"caret",role:"presentation"},u.default.createElement("span",{className:"icon-arrow-down"})))},renderColorPickerOverlay:function(){var e=(0,l.default)("color-picker-overlay",{hidden:!this.state.showingBuckets});return u.default.createElement("div",{className:e,onClick:this.onClose,role:"button"})},render:function(){var e={className:"color-picker",id:this.props.id};return u.default.createElement("div",e,this.renderColorPickerOverlay(),this.renderColorFrame(),this.renderColorBuckets())}});t.default=p},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.translateGroup=t.translate=t.setLocale=void 0;var o=n(12),a=n(16),i=r(a),l="en",s={en:i.default};t.setLocale=function(e){if(e=(0,o.isString)(e)?e.toLowerCase():null,!(0,o.has)(s,e))throw new Error("I18n: The locale "+e+" is not available.");l=e},t.translate=function(e){e=(0,o.isString)(e)?e.toLowerCase():null;var t=(0,o.get)(s[l],e,null);if((0,o.isString)(t))return t;throw(0,o.isNull)(e)?new Error("I18n: translate requires a String."):(0,o.isPlainObject)(t)?new Error("I18n: Access to a group of translations is not allowed. Use translateGroup instead."):new Error("I18n: Translation missing for "+e+".")},t.translateGroup=function(e){e=(0,o.isString)(e)?e.toLowerCase():null;var t=(0,o.get)(s[l],e,null);if((0,o.isPlainObject)(t))return t;throw(0,o.isNull)(e)?new Error("I18n: translateGroup requires a String."):(0,o.isString)(t)?new Error("I18n: Access to a direct translation is not allowed. Use translate instead."):new Error("I18n: Translations missing for "+e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={view_card:{external_content:"External Content"},filter_bar:{add_filter:"Add Filter",all:"All",apply:"Apply",cancel:"Cancel",clear:"Clear",configure_filter:"Configure Filter",filter:"Filter:",from:"From",to:"To",no_options_found:"No options found",range_filter:{range_label:"From {0} to {1}",greater_label:"Greater than {0}",less_label:"Less than {0}"},range:"Range",remove_filter:"Remove Filter",search:"Search options"},color_picker:{pickable_color:"Pickable color",open_color_picker:"Open Color Picker",with_currently_selected_color:"with currently selected color"},info_pane:{less:"Less",more:"More",official:"Official",private_notice:"This view is private"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isolateEventByKeys=t.SPACE=t.ESCAPE=t.ENTER=t.DOWN=t.UP=void 0;var o=n(12),a=r(o),i=t.UP=38,l=t.DOWN=40,s=t.ENTER=13,u=t.ESCAPE=27;t.SPACE=32,t.isolateEventByKeys=function(e,t){a.default.includes(t,e.keyCode)&&(e.stopPropagation(),e.preventDefault())};t.default={UP:i,DOWN:l,ENTER:s,ESCAPE:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=r(o),i=n(19),l=r(i),s=n(13),u=r(s),c=n(14),d=r(c),p=n(20),f=r(p),h=n(21),m=r(h),v=n(17);t.default=d.default.createClass({displayName:"Dropdown",propTypes:{disabled:d.default.PropTypes.bool,displayTrueWidthOptions:d.default.PropTypes.bool,id:d.default.PropTypes.string,onSelection:d.default.PropTypes.func,options:d.default.PropTypes.arrayOf(d.default.PropTypes.object),placeholder:d.default.PropTypes.oneOfType([d.default.PropTypes.string,d.default.PropTypes.func]),value:d.default.PropTypes.string},getDefaultProps:function(){return{disabled:!1,options:[],placeholder:null,onSelection:function(){}}},getInitialState:function(){return{selectedOption:this.getSelectedOption(this.props),focused:!1,opened:!1,mousedDownOnOptions:!1,keyupOnOptions:!1}},componentDidMount:function(){this.toggleScrollEvents(!0),this.toggleIsolateScrolling(!0),this.toggleDocumentMouseDown(!0)},componentWillReceiveProps:function(e){this.setState({selectedOption:this.getSelectedOption(e)})},componentWillUpdate:function(){this.positionPicklist()},componentDidUpdate:function(){this.state.opened&&this.picklistRef.picklist.focus()},componentWillUnmount:function(){this.toggleScrollEvents(!1),this.toggleIsolateScrolling(!1),this.toggleDocumentMouseDown(!1)},onMouseDown:function(e){var t=e.target===this.optionsRef;t&&e.preventDefault(),this.setState({mousedDownOnOptions:t})},onAnyScroll:function(e){if(e){var t=(0,l.default)(e.target).closest(".dropdown-options-list"),n=0===t.length;n&&this.setState({opened:!1})}},onKeyUpDropdown:function(e){var t=e.keyCode;(0,v.isolateEventByKeys)(e,[v.ENTER,v.DOWN,v.SPACE]),t!==v.ENTER&&t!==v.SPACE||this.setState({focused:!0,opened:!1})},onMouseUpDropdown:function(){this.setState({focused:!0,opened:!1})},onClickPlaceholder:function(){this.onAnyScroll(),this.setState({opened:!this.state.opened})},onFocusPlaceholder:function(){this.setState({focused:!0})},onBlurPlaceholder:function(){this.state.mousedDownOnOptions?this.state.opened||this.placeholderRef.focus():(this.optionsRef.scrollTop=0,this.setState({focused:!1})),this.setState({mousedDownOnOptions:!1})},onKeyDownPlaceholder:function(e){(0,v.isolateEventByKeys)(e,[v.ESCAPE,v.DOWN,v.SPACE])},onKeyUpPlaceholder:function(e){var t=e.keyCode;(0,v.isolateEventByKeys)(e,[v.ESCAPE,v.DOWN,v.SPACE]),t===v.ESCAPE?this.onBlurPlaceholder():t!==v.DOWN&&t!==v.SPACE||this.openPicklist()},onFocusPicklist:function(){this.setState({focused:!1})},onBlurPicklist:function(){this.setState({focused:!0,opened:!1}),this.placeholderRef.focus()},onClickOption:function(e){this.props.onSelection(e),this.setState({selectedOption:e})},getSelectedOption:function(e){var t=e.value,n=e.options;return a.default.find(n,{value:t})||null},openPicklist:function(){var e=this.props.options,t=this.state.selectedOption||a.default.first(e);this.setState({opened:!0,selectedOption:t})},positionPicklist:function(){var e=this.optionsRef&&this.optionsRef.querySelectorAll(".picklist-option").length>0;if(e){var t=this.props.displayTrueWidthOptions,n=this.dropdownRef.getBoundingClientRect(),r=window.document.documentElement.clientHeight-10,o=this.dropdownRef.clientHeight+n.top-n.height;this.optionsRef.style.top=o+"px",this.optionsRef.style.left=n.left+"px";var a=this.optionsRef.getBoundingClientRect(),i=this.optionsRef.scrollHeight,l=r<a.top+i,s=this.optionsRef.querySelector(".picklist-option").clientHeight,u=r-a.top;l?(this.optionsRef.style.height=Math.max(u,s)+"px",this.picklistRef.picklist.style.height=Math.max(u,s)+"px"):"auto"!==this.optionsRef.style.height&&(this.optionsRef.style.height="auto",this.picklistRef.picklist.style.height="auto"),t||(this.optionsRef.style.width=n.width+"px")}},toggleDocumentMouseDown:function(e){document[e?"addEventListener":"removeEventListener"]("mousedown",this.onMouseDown)},toggleIsolateScrolling:function(e){f.default.isolateScrolling((0,l.default)(this.optionsRef),e)},toggleScrollEvents:function(e){var t=this,n=e?"addEventListener":"removeEventListener",r=function(e){e[n]("scroll",t.onAnyScroll),e[n]("wheel",t.onAnyScroll)},o=function(e){for(var t=e.parentNode;null!==t&&t instanceof HTMLElement;){var n=window.getComputedStyle(t).overflowY,o="scroll"===n||"auto"===n,a=t.scrollHeight>t.clientHeight;o&&a&&r(t),t=t.parentNode}};o(this.dropdownRef),r(window)},renderPlaceholder:function(){var e=this,t=this.props.placeholder,n=this.state.selectedOption,r=d.default.createElement("div",{className:"dropdown-caret",key:"caret"}),o=function(e){return d.default.createElement("span",{key:"placeholder"},e)},a="function"==typeof t,i="string"==typeof t,l={onFocus:this.onFocusPlaceholder,onBlur:this.onBlurPlaceholder,onClick:this.onClickPlaceholder,onKeyUp:this.onKeyUpPlaceholder,onKeyDown:this.onKeyDownPlaceholder,tabIndex:"0",ref:function(t){return e.placeholderRef=t},className:(0,u.default)({"dropdown-placeholder":!a,"dropdown-selected":!!n})};return a?t=t():n?t=[o(n.title),r]:i?t=[o(t),r]:null===t&&(t=[o("Select..."),r]),d.default.createElement("div",l,t)},render:function(){var e=this,t=this.props,n=t.disabled,r=t.options,o=t.id,i=this.state,l=i.focused,s=i.opened,c=i.selectedOption,p=a.default.get(c,"value",null),f={id:o,ref:function(t){return e.dropdownRef=t},onKeyUp:this.onKeyUpDropdown,onMouseUp:this.onMouseUpDropdown,className:(0,u.default)("dropdown-container",{"dropdown-focused":l,"dropdown-opened":s,"dropdown-disabled":n})},h={ref:function(t){return e.optionsRef=t},className:(0,u.default)("dropdown-options-list",{"dropdown-invisible":!s})},v={options:r,disabled:n,value:p,ref:function(t){return e.picklistRef=t},onSelection:this.onClickOption,onFocus:this.onFocusPicklist,onBlur:this.onBlurPicklist},y=this.renderPlaceholder();return d.default.createElement("div",f,y,d.default.createElement("div",h,d.default.createElement(m.default,v)))}})},function(e,t){e.exports=a},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Picklist=void 0;var o=n(12),a=r(o),i=n(14),l=r(i),s=n(13),u=r(s),c=n(17),d=t.Picklist=l.default.createClass({displayName:"Picklist",propTypes:{id:l.default.PropTypes.string,disabled:l.default.PropTypes.bool,value:l.default.PropTypes.string,options:l.default.PropTypes.arrayOf(l.default.PropTypes.shape({title:l.default.PropTypes.string,value:l.default.PropTypes.string,group:l.default.PropTypes.string,render:l.default.PropTypes.func})),onSelection:l.default.PropTypes.func,onFocus:l.default.PropTypes.func,onBlur:l.default.PropTypes.func},getDefaultProps:function(){return{disabled:!1,options:[],onSelection:a.default.noop,onFocus:a.default.noop,onBlur:a.default.noop,value:null}},getInitialState:function(){return{selectedIndex:-1,selectedOption:null,focused:!1}},componentWillMount:function(){this.setSelectedOptionBasedOnValue(this.props)},componentDidMount:function(){if(this.state.selectedOption){var e=this.picklist.querySelectorAll(".picklist-option"),t=this.picklist.querySelector(".picklist-option-selected"),n=a.default.indexOf(e,t);this.setScrollPositionToOption(n),this.setNavigationPointer(n)}},componentWillReceiveProps:function(e){e.value!==this.props.value&&this.setSelectedOptionBasedOnValue(e)},onClickOption:function(e,t){var n=this.picklist.querySelectorAll(".picklist-option"),r=a.default.indexOf(n,t.target);t.stopPropagation(),this.picklist.focus(),this.setNavigationPointer(r),this.setSelectedOption(e)},onKeyUpSelection:function(e){var t=this.props.disabled;if(!t)switch(e.keyCode){case c.UP:this.move("up");break;case c.DOWN:this.move("down")}},onKeyUpBlur:function(e){e.keyCode===c.ESCAPE&&this.picklist.blur()},onKeyUp:function(e){(0,c.isolateEventByKeys)(e,[c.UP,c.DOWN,c.ESCAPE]),this.onKeyUpSelection(e),this.onKeyUpBlur(e)},onKeyDown:function(e){(0,c.isolateEventByKeys)(e,[c.UP,c.DOWN,c.ESCAPE])},onMouseDownOption:function(e){e.preventDefault()},onFocus:function(){this.props.onFocus(),this.setState({focused:!0})},onBlur:function(){this.props.onBlur(),this.setState({focused:!1})},setNavigationPointer:function(e){this.setState({selectedIndex:e})},setSelectedOptionBasedOnValue:function(e){var t=e.options,n=e.value,r=a.default.findIndex(t,{value:n});this.setState({selectedOption:e.options[r],selectedIndex:r})},setSelectedOption:function(e){this.setState({selectedOption:e}),this.props.onSelection(e)},setScrollPositionToOption:function(e){var t=this.picklist,n=this.picklist.querySelectorAll(".picklist-option"),r=n[e],o=t.getBoundingClientRect().top-t.scrollTop,a=t.clientHeight/2,i=r.getBoundingClientRect().top;this.picklist.scrollTop=i-o-a},blur:function(){this.picklist.blur()},move:function(e){var t=void 0,n=void 0,r=this.state,o=r.selectedOption,i=r.selectedIndex,l=this.props.options,s="up"===e,u=s?-1:1,c=l[i+u],d=s?"last":"first";i!==-1&&a.default.isPlainObject(c)?(t=i+u,n=c):i===-1?(t=0,n=a.default[d](l)):(t=i,n=o),this.setNavigationPointer(t),this.setSelectedOption(n),this.setScrollPositionToOption(t)},renderOption:function(e,t){var n=this.state.selectedOption,r=a.default.isFunction(e.render),o=this.onClickOption.bind(this,e),i=a.default.isEqual(n,e),s=(0,u.default)("picklist-option",{"picklist-option-selected":i}),c={className:s,onClick:o,onMouseDown:this.onMouseDownOption,key:t,role:"option",id:e.value+"-"+t,"aria-selected":i},d=r?e.render(e):l.default.createElement("span",{className:"picklist-title",key:t},e.title);return l.default.createElement("div",c,d)},render:function(){var e=this,t=[],n=this.props,r=n.disabled,o=n.options,i=n.id,s=this.state,c=s.focused,d=s.selectedOption,p=s.selectedIndex,f=d?d.value+"-"+p:"",h={id:i,tabIndex:0,ref:function(t){return e.picklist=t},className:(0,u.default)("picklist",{"picklist-disabled":r,"picklist-focused":c}),onKeyUp:this.onKeyUp,role:"listbox","aria-activedescendant":f,"aria-disabled":r};r||a.default.merge(h,{onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur});var m=function(e){return l.default.createElement("div",{className:"picklist-group-header",key:e+"-separator"},e)},v=function(e){return l.default.createElement("div",{className:"picklist-separator",key:e+"-header"})};return a.default.forEach(o,function(n,r){var a=n.group,i=o[r-1],l=i&&i.group!==a;l?(t.push(v(a)),t.push(m(a))):0===r&&a&&t.push(m(a)),t.push(e.renderOption(n,r))}),l.default.createElement("div",h,t)}});t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(12),i=r(a),l=n(14),s=r(l),u=n(19),c=r(u);n(23);var d=n(24),p=r(d);t.default=s.default.createClass({displayName:"ViewCard",propTypes:{children:l.PropTypes.node,description:l.PropTypes.string,icon:l.PropTypes.string,imageUrl:l.PropTypes.string,isPrivate:l.PropTypes.bool,linkProps:l.PropTypes.object,metadataLeft:l.PropTypes.string,metadataRight:l.PropTypes.string,
name:l.PropTypes.string,onClick:l.PropTypes.func,url:l.PropTypes.string},componentDidMount:function(){this.$name=(0,c.default)(this.name),this.$description=(0,c.default)(this.description),this.ellipsify()},componentWillUpdate:function(e){this.shouldEllipsify(this.props,e)&&(this.$name.trigger("destroy.dot"),this.$description.trigger("destroy.dot"))},componentDidUpdate:function(e){this.shouldEllipsify(e,this.props)&&this.ellipsify()},shouldEllipsify:function(e,t){return e.name!==t.name||e.description!==t.description},ellipsify:function(){this.$name.dotdotdot({height:50,watch:!0}),this.$description.dotdotdot({height:75,watch:!0})},renderOverlay:function(){if(s.default.Children.count(this.props.children)>0)return s.default.createElement("div",{className:"view-card-overlay"},this.props.children)},render:function(){var e=this,t=this.props,n=t.description,r=t.icon,a=t.imageUrl,l=t.isPrivate,u=t.linkProps,c=t.metadataLeft,d=t.metadataRight,f=t.name,h=t.onClick,m=t.url,v=l?s.default.createElement("span",{className:"icon icon-private"}):null,y=i.default.isString(a)&&!i.default.isEmpty(a)?s.default.createElement("img",{src:a,alt:f}):s.default.createElement("span",{className:r+" x-large-icon"});return s.default.createElement("div",{className:"result-card media view-card"},s.default.createElement("div",{className:"entry-header"},s.default.createElement("div",{className:"entry-title"},s.default.createElement("h3",{className:"entry-name"},v,s.default.createElement("a",o({},u,{href:m,onClick:h,ref:function(t){return e.name=t}}),f))),s.default.createElement("div",{"aria-hidden":!0,className:"entry-view-type"},s.default.createElement("span",{className:r}))),s.default.createElement("div",{className:"entry-meta"},s.default.createElement("div",{className:"first"},s.default.createElement("span",{className:"date"},c)),s.default.createElement("div",{className:"second"},s.default.createElement("span",{className:"date"},d))),s.default.createElement("div",{className:"entry-content"},s.default.createElement("div",{className:"entry-main"},s.default.createElement("a",o({},u,{href:m,onClick:h}),s.default.createElement("div",{className:"img-wrapper"},y)),s.default.createElement("div",{className:"entry-description",ref:function(t){return e.description=t}},s.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,p.default)(n)}})))),this.renderOverlay())}})},function(e,t){e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!i.default.isString(e)||i.default.isEmpty(e))return e;var t=["a","b","br","div","em","i","p","span","strong","sub","sup","u"],n=["href","target","rel"];return s.default.sanitize(e,{ALLOWED_TAGS:t,ALLOWED_ATTR:n})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(12),i=r(a),l=n(25),s=r(l)},function(e,t){e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(12),i=r(a),l=n(14),s=r(l),u=n(22),c=r(u),d=n(15),p=function(e){var t=i.default.defaults({},e.linkProps,{target:"_blank",rel:"nofollow external"});return s.default.createElement(c.default,o({icon:"icon-external-square",metadataLeft:(0,d.translate)("view_card.external_content")},e,{linkProps:t}),e.children)};p.propTypes=c.default.propTypes,t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterBar=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),i=r(a),l=n(12),s=r(l),u=n(28),c=r(u),d=n(32),p=r(d),f=n(47),h=t.FilterBar=i.default.createClass({displayName:"FilterBar",propTypes:{columns:a.PropTypes.arrayOf(a.PropTypes.object),filters:a.PropTypes.arrayOf(a.PropTypes.object),onUpdate:a.PropTypes.func,fetchSuggestions:a.PropTypes.func},getDefaultProps:function(){return{onUpdate:s.default.noop,fetchSuggestions:s.default.constant(Promise.resolve([])),filters:[]}},onFilterAdd:function(e){var t=this.props,n=t.filters,r=t.onUpdate;n.unshift(e),r(n)},onFilterRemove:function(e){var t=this.props,n=t.filters,r=t.onUpdate;n.splice(e,1),r(n)},onFilterUpdate:function(e,t){var n=this.props,r=n.filters,o=n.onUpdate;r.splice(t,1,e),o(r)},renderAddFilter:function(){var e=this,t=this.props,n=t.columns,r=t.filters,o=s.default.reject(n,function(e){return s.default.find(r,["parameters.columnName",e.fieldName])}),a={columns:o,onClickColumn:function(t){var n=(0,f.getDefaultFilterForColumn)(t);e.onFilterAdd(n)}};return i.default.createElement(c.default,a)},renderFilters:function(){var e=this,t=this.props,n=t.filters,r=t.columns,a=t.fetchSuggestions;return s.default.map(n,function(t,n){var l=s.default.find(r,{fieldName:t.parameters.columnName}),u={column:l,filter:t,fetchSuggestions:a,onUpdate:s.default.partialRight(e.onFilterUpdate,n),onRemove:s.default.partial(e.onFilterRemove,n)};return i.default.createElement(p.default,o({key:n},u))})},render:function(){return i.default.createElement("div",{className:"filter-bar-container"},this.renderAddFilter(),this.renderFilters())}});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddFilter=void 0;var o=n(14),a=r(o),i=n(29),l=r(i),s=n(30),u=r(s),c=n(12),d=r(c),p=n(31),f=n(15),h=n(17),m=t.AddFilter=a.default.createClass({displayName:"AddFilter",propTypes:{columns:o.PropTypes.arrayOf(o.PropTypes.object),onClickColumn:o.PropTypes.func.isRequired},getInitialState:function(){return{isChoosingColumn:!1,searchTerm:""}},componentDidMount:function(){var e=this;this.bodyClickHandler=document.body.addEventListener("click",function(t){var n=l.default.findDOMNode(e);e.state.isChoosingColumn&&!n.contains(t.target)&&e.toggleColumnPicklist(t)}),this.bodyEscapeHandler=document.body.addEventListener("keyup",function(t){e.state.isChoosingColumn&&t.keyCode===h.ESCAPE&&(e.toggleColumnPicklist(),e.addFilterButton.focus())})},componentWillUnmount:function(){document.body.removeEventListener("click",this.bodyClickHandler),document.body.removeEventListener("keyup",this.bodyEscapeHandler)},onChangeSearchTerm:function(e){this.setState({searchTerm:e})},onClickColumn:function(e){this.props.onClickColumn(e),this.toggleColumnPicklist()},toggleColumnPicklist:function(e){e&&e.preventDefault(),this.setState({isChoosingColumn:!this.state.isChoosingColumn})},renderColumnContainer:function(){var e=this,t=this.props.columns,n=this.state,r=n.isChoosingColumn,o=n.searchTerm;if(r){var i=d.default.chain(t).filter(function(e){return d.default.toLower(e.name).match(d.default.toLower(o))}).map(function(e){return{value:e.fieldName,title:e.name,render:function(t){return a.default.createElement("div",{className:"filter-bar-column-option"},a.default.createElement("span",{className:(0,p.getIconForDataType)(e.dataTypeName),role:"presentation"}),t.title)}}}).value(),l={options:i,onChangeSearchTerm:this.onChangeSearchTerm,onSelection:function(n){var r=d.default.find(t,["fieldName",n.value]);e.onClickColumn(r)},value:o};return a.default.createElement("div",{className:"column-container"},a.default.createElement(u.default,l))}},render:function(){var e=this,t=a.default.createElement("div",{className:"add-filter-button",ref:function(t){return e.addFilterButton=t},onClick:this.toggleColumnPicklist,onKeyPress:this.toggleColumnPicklist,role:"button",tabIndex:"0"},(0,f.translate)("filter_bar.add_filter"),a.default.createElement("span",{className:"icon-add",role:"presentation"}));return a.default.createElement("div",{className:"add-filter"},t,this.renderColumnContainer())}});t.default=m},function(e,t){e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchablePicklist=void 0;var o=n(12),a=r(o),i=n(14),l=r(i),s=n(15),u=n(21),c=r(u),d=t.SearchablePicklist=l.default.createClass({displayName:"SearchablePicklist",propTypes:{isLoading:i.PropTypes.bool,options:i.PropTypes.arrayOf(i.PropTypes.object),value:i.PropTypes.string,onChangeSearchTerm:i.PropTypes.func.isRequired,onSelection:i.PropTypes.func.isRequired},componentDidMount:function(){this.search&&this.search.focus()},onChangeSearchTerm:function(e){this.props.onChangeSearchTerm(e.target.value)},renderPicklist:function(){var e=this.props,t=e.isLoading,n=e.options,r=e.value,o=e.onSelection,i=a.default.isEmpty(n),u=n;if(t)return l.default.createElement("div",{className:"spinner spinner-default"});i&&(u=[{title:(0,s.translate)("filter_bar.no_options_found")}]);var d={options:u,value:r,disabled:i,onSelection:o};return l.default.createElement(c.default,d)},renderSearch:function(){var e=this,t=this.props.value;return l.default.createElement("div",{className:"searchable-picklist-input-container"},l.default.createElement("span",{className:"icon-search",role:"presentation"}),l.default.createElement("input",{className:"searchable-picklist-input",type:"text","aria-label":(0,s.translate)("filter_bar.search"),value:t||"",ref:function(t){return e.search=t},onChange:this.onChangeSearchTerm}))},render:function(){return l.default.createElement("div",{className:"searchable-picklist"},this.renderSearch(),this.renderPicklist())}});t.default=d},function(e,t){"use strict";function n(e){return r[e]?r[e]:void console.warn('Unknown icon for data type "'+e+'"')}Object.defineProperty(t,"__esModule",{value:!0}),t.getIconForDataType=n;var r={blob:"icon-data",calendar_date:"icon-date",checkbox:"icon-check",dataset_link:"icon-link",date:"icon-date",document:"icon-copy-document",drop_down_list:"icon-list-2",email:"icon-email",flag:"icon-region",geospatial:"icon-geo",html:"icon-clear-formatting",line:"icon-geo",link:"icon-link",list:"icon-list-numbered",location:"icon-map",money:"icon-number",multiline:"icon-geo",multipoint:"icon-geo",multipolygon:"icon-geo",nested_table:"icon-table",number:"icon-number",object:"icon-data",percent:"icon-number",photo:"icon-chart",point:"icon-map",polygon:"icon-geo",stars:null,text:"icon-text",url:"icon-link"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterItem=void 0;var o=n(12),a=r(o),i=n(14),l=r(i),s=n(29),u=r(s),c=n(33),d=r(c),p=n(45),f=r(p),h=n(46),m=r(h),v=n(15),y=n(47),g=n(17),b=t.FilterItem=l.default.createClass({displayName:"FilterItem",propTypes:{filter:i.PropTypes.shape({parameters:i.PropTypes.shape({function:i.PropTypes.string.isRequired,columnName:i.PropTypes.string.isRequired,arguments:i.PropTypes.object.isRequired}),isLocked:i.PropTypes.boolean,isHidden:i.PropTypes.boolean,isRequired:i.PropTypes.boolean,allowMultiple:i.PropTypes.boolean}).isRequired,column:i.PropTypes.shape({dataTypeName:i.PropTypes.oneOf(["number","text"]),name:i.PropTypes.string.isRequired}).isRequired,fetchSuggestions:i.PropTypes.func,onUpdate:i.PropTypes.func.isRequired,onRemove:i.PropTypes.func.isRequired},getInitialState:function(){return{isControlOpen:!1,isConfigOpen:!1}},componentDidMount:function(){var e=this;this.bodyClickHandler=function(t){var n=[e.filterControl,e.filterConfig,e.filterControlToggle,e.filterConfigToggle],r=a.default.chain(n).compact().map(u.default.findDOMNode).invokeMap("contains",t.target).some().value();r||e.closeAll()},this.bodyEscapeHandler=function(t){t.keyCode===g.ESCAPE&&(e.closeAll(),e.toggleText.focus())},document.body.addEventListener("click",this.bodyClickHandler),document.body.addEventListener("keyup",this.bodyEscapeHandler)},componentWillUnmount:function(){document.body.removeEventListener("click",this.bodyClickHandler),document.body.removeEventListener("keyup",this.bodyEscapeHandler)},onCancel:function(){this.toggleControl()},onUpdate:function(e){this.props.onUpdate(e),this.closeAll()},onRemove:function(e){this.props.onRemove(e),this.closeAll()},toggleControl:function(){this.setState({isControlOpen:!this.state.isControlOpen,isConfigOpen:!1})},toggleConfig:function(){this.setState({isControlOpen:!1,isConfigOpen:!this.state.isConfigOpen})},closeAll:function(){this.setState({isControlOpen:!1,isConfigOpen:!1})},renderFilterControl:function(){var e=this.props,t=e.filter,n=e.column,r=e.fetchSuggestions,o=this.state.isControlOpen;if(!o)return null;var i={filter:t,column:n,fetchSuggestions:r,onCancel:this.onCancel,onUpdate:this.onUpdate,ref:a.default.partial(a.default.set,this,"filterControl")};switch(n.dataTypeName){case"number":return l.default.createElement(d.default,i);case"text":return l.default.createElement(f.default,i);default:return null}},renderFilterConfig:function(){var e=this.props.filter,t=this.state.isConfigOpen;if(!t)return null;var n={filter:e,onRemove:this.onRemove,ref:a.default.partial(a.default.set,this,"filterConfig")};return l.default.createElement(m.default,n)},render:function(){var e=this,t=this.props,n=t.filter,r=t.column;return l.default.createElement("div",{className:"filter-bar-filter"},l.default.createElement("div",{className:"filter-title"},r.name),l.default.createElement("div",{className:"filter-control-container"},l.default.createElement("div",{className:"filter-control-toggle","aria-label":(0,v.translate)("filter_bar.filter")+" "+r.name,tabIndex:"0",onClick:this.toggleControl,onKeyPress:this.toggleControl,ref:function(t){return e.filterControlToggle=t}},(0,y.getToggleTextForFilter)(n,r),l.default.createElement("span",{className:"icon-chevron-down",role:"presentation"})),this.renderFilterControl()),l.default.createElement("div",{className:"filter-config-container"},l.default.createElement("div",{className:"filter-config-toggle","aria-label":(0,v.translate)("filter_bar.configure_filter"),tabIndex:"0",onClick:this.toggleConfig,onKeyPress:this.toggleConfig,ref:function(t){return e.filterConfigToggle=t}},l.default.createElement("span",{className:"icon-kebab",role:"presentation"})),this.renderFilterConfig()))}});t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.NumberFilter=void 0;var a=n(12),i=r(a),l=n(14),s=r(l),u=n(34),c=r(u),d=n(44),p=r(d),f=n(15),h=t.NumberFilter=s.default.createClass({displayName:"NumberFilter",propTypes:{filter:l.PropTypes.object.isRequired,column:l.PropTypes.object.isRequired,onCancel:l.PropTypes.func.isRequired,onUpdate:l.PropTypes.func.isRequired},getInitialState:function(){var e=this.props.filter;return{value:i.default.get(e,"parameters.arguments",{})}},componentDidMount:function(){this.firstInput&&this.firstInput.focus()},onInputChange:function(e){var t=e.target,n=this.state.value,r=i.default.merge({},n,o({},t.id,i.default.toNumber(t.value)));this.updateValueState(r)},onSliderChange:function(e){this.updateValueState(e)},getStepInterval:function(){var e=this.props.column,t=e.rangeMin,n=e.rangeMax;return(n-t)/20},isValidValue:function(e){var t=this.props.column,n=t.rangeMin,r=t.rangeMax;return i.default.isFinite(e)&&e>=n&&e<=r},isValidRange:function e(t){var e=t.start<=t.end,n=this.isValidValue(t.start),r=this.isValidValue(t.end);return e&&n&&r},updateValueState:function(e){this.isValidRange(e)&&this.setState({value:e})},shouldDisableApply:function(){var e=this.props.filter,t=this.state.value,n=e.parameters.arguments;return i.default.isEqual(n,t)},clearFilter:function(){var e=this.props.column,t=e.rangeMin,n=e.rangeMax;this.updateValueState({start:t,end:n})},updateFilter:function(){var e=this.props,t=e.filter,n=e.onUpdate,r=this.state.value,o=i.default.merge({},t,{parameters:{arguments:r}});n(o)},renderInputFields:function(){var e=this,t=this.state.value;return s.default.createElement("div",{className:"range-text-inputs-container input-group"},s.default.createElement("input",{id:"start",className:"range-input text-input",type:"number",value:t.start,onChange:this.onInputChange,"aria-label":(0,f.translate)("filter_bar.from"),placeholder:(0,f.translate)("filter_bar.from"),ref:function(t){return e.firstInput=t}}),s.default.createElement("span",{className:"range-separator"},"-"),s.default.createElement("input",{id:"end",className:"range-input text-input",type:"number",value:t.end,onChange:this.onInputChange,"aria-label":(0,f.translate)("filter_bar.to"),placeholder:(0,f.translate)("filter_bar.to")}))},renderSlider:function(){var e=this.props.column,t=e.rangeMin,n=e.rangeMax,r=this.state.value,o={rangeMin:t,rangeMax:n,value:r,step:this.getStepInterval(),onChange:this.onSliderChange};return s.default.createElement(c.default,o)},render:function(){var e=this.props.onCancel,t={disableApplyFilter:this.shouldDisableApply(),onClickApply:this.updateFilter,onClickCancel:e,onClickClear:this.clearFilter};return s.default.createElement("div",{className:"filter-controls number-filter"},s.default.createElement("div",{className:"range-filter-container"},s.default.createElement("div",{className:"filter-control-title"},(0,f.translate)("filter_bar.range")),this.renderSlider(),this.renderInputFields()),s.default.createElement(p.default,t))}});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var o=n(12),a=r(o),i=n(14),l=r(i),s=n(35),u=r(s),c=t.Slider=l.default.createClass({displayName:"Slider",propTypes:{rangeMin:i.PropTypes.number.isRequired,rangeMax:i.PropTypes.number.isRequired,step:i.PropTypes.number,value:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.shape({start:i.PropTypes.number,end:i.PropTypes.number})]),onChange:i.PropTypes.func.isRequired},getDefaultProps:function(){return{step:5}},onChange:function(e,t){var n=a.default.isPlainObject(t)?{start:t.min,end:t.max}:t;this.props.onChange(n)},formatAccessibleLabel:function(e){return l.default.createElement("span",{className:"hidden"},e)},render:function(){var e=void 0,t=this.props,n=t.rangeMin,r=t.rangeMax,o=t.step,i=t.value;e=a.default.isPlainObject(i)?{min:a.default.get(i,"start",n),max:a.default.get(i,"end",r)}:a.default.isNumber(i)?a.default.clamp(i,n,r):r;var s={minValue:n,maxValue:r,step:o,value:e,onChange:this.onChange,formatLabel:this.formatAccessibleLabel};return l.default.createElement("div",{className:"input-range-slider"},l.default.createElement(u.default,s))}});t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),a=r(o);t.default=a.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n=e.props;return e.isMultiValue?t.min>=n.minValue&&t.max<=n.maxValue&&t.min<t.max:t.max>=n.minValue&&t.max<=n.maxValue}function l(e,t){var n=e.props,r=N.default.valuesFromProps(e);return(0,x.length)(t.min,r.min)>=n.step||(0,x.length)(t.max,r.max)>=n.step}function s(e,t){return i(e,t)&&l(e,t)}function u(e){var t=e.refs.inputRange.ownerDocument;return t}function c(e){var t=e.props;return t.disabled?t.classNames.component+" is-disabled":t.classNames.component}function d(e,t){return t===e.refs.sliderMin?"min":"max"}function p(e){return e.isMultiValue?["min","max"]:["max"]}function f(e,t){var n=N.default.valuesFromProps(e),r=N.default.positionsFromValues(e,n);if(e.isMultiValue){var o=(0,x.distanceTo)(t,r.min),a=(0,x.distanceTo)(t,r.max);if(o<a)return"min"}return"max"}function h(e){var t=e.props.classNames,n=[],r=p(e),o=N.default.valuesFromProps(e),a=N.default.percentagesFromValues(e,o),i=!0,l=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value,f=o[d],h=a[d],m="slider"+(0,x.captialize)(d),v=e.props,y=v.maxValue,g=v.minValue;"min"===d?y=o.max:g=o.min;var E=b.default.createElement(P.default,{ariaLabelledby:e.props.ariaLabelledby,ariaControls:e.props.ariaControls,classNames:t,formatLabel:e.formatLabel,key:d,maxValue:y,minValue:g,onSliderKeyDown:e.handleSliderKeyDown,onSliderMouseMove:e.handleSliderMouseMove,percentage:h,ref:m,type:d,value:f});n.push(E)}}catch(e){l=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(l)throw s}}return n}function m(e){var t=[],n=p(e),r=!0,o=!1,a=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value,u=e.isMultiValue?""+e.props.name+(0,x.captialize)(s):e.props.name;b.default.createElement("input",{type:"hidden",name:u})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return t}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},g=n(14),b=r(g),E=n(37),P=r(E),C=n(40),T=r(C),k=n(38),S=r(k),w=n(41),O=r(w),_=n(42),N=r(_),x=n(39),M=n(43),L=new WeakMap,A={DOWN_ARROW:40,LEFT_ARROW:37,RIGHT_ARROW:39,UP_ARROW:38},R=function(e){function t(e){o(this,t),y(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),L.set(this,{}),(0,x.autobind)(["formatLabel","handleInteractionEnd","handleInteractionStart","handleKeyDown","handleKeyUp","handleMouseDown","handleMouseUp","handleSliderKeyDown","handleSliderMouseMove","handleTouchStart","handleTouchEnd","handleTrackMouseDown"],this)}return a(t,e),v(t,[{key:"updatePosition",value:function(e,t){var n=N.default.valuesFromProps(this),r=N.default.positionsFromValues(this,n);r[e]=t,this.updatePositions(r)}},{key:"updatePositions",value:function(e){var t={min:N.default.valueFromPosition(this,e.min),max:N.default.valueFromPosition(this,e.max)},n={min:N.default.stepValueFromValue(this,t.min),max:N.default.stepValueFromValue(this,t.max)};this.updateValues(n)}},{key:"updateValue",value:function(e,t){var n=N.default.valuesFromProps(this);n[e]=t,this.updateValues(n)}},{key:"updateValues",value:function(e){s(this,e)&&(this.isMultiValue?this.props.onChange(this,e):this.props.onChange(this,e.max))}},{key:"incrementValue",value:function(e){var t=N.default.valuesFromProps(this),n=t[e]+this.props.step;this.updateValue(e,n)}},{key:"decrementValue",value:function(e){var t=N.default.valuesFromProps(this),n=t[e]-this.props.step;this.updateValue(e,n)}},{key:"formatLabel",value:function e(t){var n=this.props,e=n.formatLabel,r=n.labelPrefix,o=n.labelSuffix;return e?e(t,{labelPrefix:r,labelSuffix:o}):""+r+t+o}},{key:"handleSliderMouseMove",value:function(e,t){if(!this.props.disabled){var n=d(this,t),r=N.default.positionFromEvent(this,e);this.updatePosition(n,r)}}},{key:"handleSliderKeyDown",value:function(e,t){if(!this.props.disabled){var n=d(this,t);switch(e.keyCode){case A.LEFT_ARROW:case A.DOWN_ARROW:e.preventDefault(),this.decrementValue(n);break;case A.RIGHT_ARROW:case A.UP_ARROW:e.preventDefault(),this.incrementValue(n)}}}},{key:"handleTrackMouseDown",value:function(e,t,n){if(!this.props.disabled){e.preventDefault();var r=f(this,n);this.updatePosition(r,n)}}},{key:"handleInteractionStart",value:function(){var e=L.get(this);this.props.onChangeComplete&&!(0,x.isDefined)(e.startValue)&&(e.startValue=this.props.value||this.props.defaultValue)}},{key:"handleInteractionEnd",value:function(){var e=L.get(this);this.props.onChangeComplete&&(0,x.isDefined)(e.startValue)&&(e.startValue!==this.props.value&&this.props.onChangeComplete(this,this.props.value),e.startValue=null)}},{key:"handleKeyDown",value:function(e){this.handleInteractionStart(e)}},{key:"handleKeyUp",value:function(e){this.handleInteractionEnd(e)}},{key:"handleMouseDown",value:function(e){var t=u(this);this.handleInteractionStart(e),t.addEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseUp",value:function(e){var t=u(this);this.handleInteractionEnd(e),t.removeEventListener("mouseup",this.handleMouseUp)}},{key:"handleTouchStart",value:function(e){var t=u(this);this.handleInteractionStart(e),t.addEventListener("touchend",this.handleTouchEnd)}},{key:"handleTouchEnd",value:function(e){var t=u(this);this.handleInteractionEnd(e),t.removeEventListener("touchend",this.handleTouchEnd)}},{key:"render",value:function(){var e=this.props.classNames,t=c(this),n=N.default.valuesFromProps(this),r=N.default.percentagesFromValues(this,n);return b.default.createElement("div",{"aria-disabled":this.props.disabled,ref:"inputRange",className:t,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart},b.default.createElement(S.default,{className:e.labelMin,containerClassName:e.labelContainer,formatLabel:this.formatLabel},this.props.minValue),b.default.createElement(T.default,{classNames:e,ref:"track",percentages:r,onTrackMouseDown:this.handleTrackMouseDown},h(this)),b.default.createElement(S.default,{className:e.labelMax,containerClassName:e.labelContainer,formatLabel:this.formatLabel},this.props.maxValue),m(this))}},{key:"trackClientRect",get:function(){var e=this.refs.track;return e?e.clientRect:{height:0,left:0,top:0,width:0}}},{key:"isMultiValue",get:function(){return(0,x.isObject)(this.props.value)||(0,x.isObject)(this.props.defaultValue)}}]),t}(b.default.Component);t.default=R,R.propTypes={ariaLabelledby:b.default.PropTypes.string,ariaControls:b.default.PropTypes.string,classNames:b.default.PropTypes.objectOf(b.default.PropTypes.string),defaultValue:M.maxMinValuePropType,disabled:b.default.PropTypes.bool,formatLabel:b.default.PropTypes.func,labelPrefix:b.default.PropTypes.string,labelSuffix:b.default.PropTypes.string,maxValue:M.maxMinValuePropType,minValue:M.maxMinValuePropType,name:b.default.PropTypes.string,onChange:b.default.PropTypes.func.isRequired,onChangeComplete:b.default.PropTypes.func,step:b.default.PropTypes.number,value:M.maxMinValuePropType},R.defaultProps={classNames:O.default,defaultValue:0,disabled:!1,labelPrefix:"",labelSuffix:"",maxValue:10,minValue:0,step:1,value:null},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.refs.slider.ownerDocument;return t}function l(e){var t=100*(e.props.percentage||0),n={position:"absolute",left:t+"%"};return n}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},c=n(14),d=r(c),p=n(38),f=r(p),h=n(39),m=function(e){function t(e){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),(0,h.autobind)(["handleClick","handleMouseDown","handleMouseUp","handleMouseMove","handleTouchStart","handleTouchEnd","handleTouchMove","handleKeyDown"],this)}return a(t,e),s(t,[{key:"handleClick",value:function(e){e.preventDefault()}},{key:"handleMouseDown",value:function(){var e=i(this);e.addEventListener("mousemove",this.handleMouseMove),e.addEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseUp",value:function(){var e=i(this);e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"handleMouseMove",value:function(e){this.props.onSliderMouseMove(e,this)}},{key:"handleTouchStart",value:function(e){var t=i(this);e.preventDefault(),t.addEventListener("touchmove",this.handleTouchMove),t.addEventListener("touchend",this.handleTouchEnd)}},{key:"handleTouchMove",value:function(e){this.props.onSliderMouseMove(e,this)}},{key:"handleTouchEnd",value:function(e){var t=i(this);e.preventDefault(),t.removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd)}},{key:"handleKeyDown",value:function(e){this.props.onSliderKeyDown(e,this)}},{key:"render",value:function(){var e=this.props.classNames,t=l(this);return d.default.createElement("span",{className:e.sliderContainer,ref:"slider",style:t},d.default.createElement(f.default,{className:e.labelValue,containerClassName:e.labelContainer,formatLabel:this.props.formatLabel},this.props.value),d.default.createElement("a",{"aria-labelledby":this.props.ariaLabelledby,"aria-controls":this.props.ariaControls,"aria-valuemax":this.props.maxValue,"aria-valuemin":this.props.minValue,"aria-valuenow":this.props.value,className:e.slider,draggable:"false",href:"#",onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,role:"slider"}))}}]),t}(d.default.Component);t.default=m,m.propTypes={ariaLabelledby:d.default.PropTypes.string,ariaControls:d.default.PropTypes.string,classNames:d.default.PropTypes.objectOf(d.default.PropTypes.string),formatLabel:d.default.PropTypes.func,maxValue:d.default.PropTypes.number,minValue:d.default.PropTypes.number,onSliderKeyDown:d.default.PropTypes.func.isRequired,onSliderMouseMove:d.default.PropTypes.func.isRequired,percentage:d.default.PropTypes.number.isRequired,type:d.default.PropTypes.string.isRequired,value:d.default.PropTypes.number.isRequired},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},s=n(14),u=r(s),c=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.containerClassName,r=this.props.formatLabel?this.props.formatLabel(this.props.children):this.props.children;
return u.default.createElement("span",{className:t},u.default.createElement("span",{className:n},r))}}]),t}(u.default.Component);t.default=c,c.propTypes={children:u.default.PropTypes.node,className:u.default.PropTypes.string,containerClassName:u.default.PropTypes.string,formatLabel:u.default.PropTypes.func},e.exports=t.default},function(e,t){"use strict";function n(e,t,n){return Math.min(Math.max(e,t),n)}function r(){return Object.assign.apply(Object,arguments)}function o(e,t){return e.indexOf(t)>-1}function a(e,t){var n=Object.keys(e),r={};return n.forEach(function(n){o(t,n)||(r[n]=e[n])}),r}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function s(e,t){return Math.abs(e-t)}function u(e){return"number"==typeof e}function c(e){return null!==e&&"object"==typeof e}function d(e){return void 0!==e&&null!==e}function p(e){return!e||(Array.isArray(e)?0===e.length:0===Object.keys(e).length)}function f(e,t){if(!Array.isArray(e))return!1;for(var n=0,r=e.length;n<r;n++)if(!t(e[n]))return!1;return!0}function h(e,t,n){if(!c(e))return!1;for(var r=n||Object.keys(e),o=0,a=r.length;o<a;o++){var i=r[o];if(!t(e[i]))return!1}return!0}function m(e,t){e.forEach(function(e){t[e]=t[e].bind(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=n,t.extend=r,t.includes=o,t.omit=a,t.captialize=i,t.distanceTo=l,t.length=s,t.isNumber=u,t.isObject=c,t.isDefined=d,t.isEmpty=p,t.arrayOf=f,t.objectOf=h,t.autobind=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.props,n=100*(t.percentages.max-t.percentages.min)+"%",r=100*t.percentages.min+"%",o={left:r,width:n};return o}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var s=l.get;if(void 0===s)return;return s.call(i)}var u=Object.getPrototypeOf(o);if(null===u)return;e=u,t=a,n=i,r=!0,l=u=void 0}},u=n(14),c=r(u),d=n(39),p=function(e){function t(e){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),(0,d.autobind)(["handleMouseDown","handleTouchStart"],this)}return a(t,e),l(t,[{key:"handleMouseDown",value:function(e){var t=this.clientRect,n=e.touches?e.touches[0]:e,r=n.clientX,o={x:r-t.left,y:0};this.props.onTrackMouseDown(e,this,o)}},{key:"handleTouchStart",value:function(e){e.preventDefault(),this.handleMouseDown(e)}},{key:"render",value:function(){var e=i(this),t=this.props.classNames;return c.default.createElement("div",{className:t.trackContainer,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,ref:"track"},c.default.createElement("div",{style:e,className:t.trackActive}),this.props.children)}},{key:"clientRect",get:function(){var e=this.refs.track,t=e.getBoundingClientRect();return t}}]),t}(c.default.Component);t.default=p,p.propTypes={children:c.default.PropTypes.node,classNames:c.default.PropTypes.objectOf(c.default.PropTypes.string),onTrackMouseDown:c.default.PropTypes.func.isRequired,percentages:c.default.PropTypes.objectOf(c.default.PropTypes.number).isRequired},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={component:"InputRange",labelContainer:"InputRange-labelContainer",labelMax:"InputRange-label InputRange-label--max",labelMin:"InputRange-label InputRange-label--min",labelValue:"InputRange-label InputRange-label--value",slider:"InputRange-slider",sliderContainer:"InputRange-sliderContainer",trackActive:"InputRange-track InputRange-track--active",trackContainer:"InputRange-track InputRange-track--container"},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n=e.trackClientRect.width,r=t.x/n;return r||0}function o(e,t){var n=r(e,t),o=e.props.maxValue-e.props.minValue,a=e.props.minValue+o*n;return a}function a(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1],n=t.props;return function(){if(e.isMultiValue){var t=n.value;return!(0,p.isEmpty)(t)&&(0,p.objectOf)(t,p.isNumber)||(t=n.defaultValue),Object.create(t)}var r=(0,p.isNumber)(n.value)?n.value:n.defaultValue;return{min:n.minValue,max:r}}()}function i(e,t){var n=(0,p.clamp)(t,e.props.minValue,e.props.maxValue),r=e.props.maxValue-e.props.minValue,o=(n-e.props.minValue)/r;return o||0}function l(e,t){var n={min:i(e,t.min),max:i(e,t.max)};return n}function s(e,t){var n=e.trackClientRect.width,r=i(e,t),o=r*n;return{x:o,y:0}}function u(e,t){var n={min:s(e,t.min),max:s(e,t.max)};return n}function c(e,t){var n=e.trackClientRect,r=n.width,o=t.touches?t.touches[0]:t,a=o.clientX,i={x:(0,p.clamp)(a-n.left,0,r),y:0};return i}function d(e,t){return Math.round(t/e.props.step)*e.props.step}Object.defineProperty(t,"__esModule",{value:!0});var p=n(39);t.default={percentageFromPosition:r,percentageFromValue:i,percentagesFromValues:l,positionFromEvent:c,positionFromValue:s,positionsFromValues:u,stepValueFromValue:d,valueFromPosition:o,valuesFromProps:a},e.exports=t.default},function(e,t,n){"use strict";function r(e){var t=e.maxValue,n=e.minValue,r=e.value,a=e.defaultValue,i=(0,o.isNumber)(r),l=(0,o.isNumber)(a),s=(0,o.objectOf)(r,o.isNumber),u=(0,o.objectOf)(a,o.isNumber);return void 0===r?new Error("`value` must be defined"):i||l||s||u?n>=t?new Error("`minValue` must be smaller than `maxValue`"):t<=n?new Error("`maxValue` must be larger than `minValue`"):r<n||r>t?new Error("`value` must be within `minValue` and `maxValue`"):void 0:new Error("`value` or `defaultValue` must be a number or an array")}Object.defineProperty(t,"__esModule",{value:!0}),t.maxMinValuePropType=r;var o=n(39)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.disableApplyFilter,n=e.onClickApply,r=e.onClickCancel,o=e.onClickClear;return i.default.createElement("div",{className:"filter-footer"},i.default.createElement("button",{className:"btn btn-sm btn-transparent clear-btn",onClick:o},i.default.createElement("span",{className:"icon-close-2",role:"presentation"}),(0,l.translate)("filter_bar.clear")),i.default.createElement("div",{className:"apply-btn-container"},i.default.createElement("button",{className:"btn btn-sm btn-transparent cancel-btn",onClick:r},(0,l.translate)("filter_bar.cancel")),i.default.createElement("button",{className:"btn btn-sm btn-default apply-btn",onClick:n,disabled:t},(0,l.translate)("filter_bar.apply"))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(14),i=r(a),l=n(15);o.propTypes={disableApplyFilter:a.PropTypes.bool,onClickApply:a.PropTypes.func.isRequired,onClickCancel:a.PropTypes.func.isRequired,onClickClear:a.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TextFilter=void 0;var o=n(12),a=r(o),i=n(14),l=r(i),s=n(30),u=r(s),c=n(44),d=r(c),p=t.TextFilter=l.default.createClass({displayName:"TextFilter",propTypes:{filter:i.PropTypes.object.isRequired,column:i.PropTypes.object.isRequired,fetchSuggestions:i.PropTypes.func,onCancel:i.PropTypes.func.isRequired,onUpdate:i.PropTypes.func.isRequired},getInitialState:function(){return{isLoading:!0,value:a.default.get(this.props.filter,"parameters.arguments.operand"),suggestions:[]}},componentDidMount:function(){var e=this,t=this.props,n=t.fetchSuggestions,r=t.column;this.isMounted=!0,n(r,"").then(function(t){e.isMounted&&e.setState({suggestions:t,isLoading:!1})})},componentWillUnmount:function(){this.isMounted=!1},onChangeSearchTerm:function(e){var t=this,n=this.props,r=n.fetchSuggestions,o=n.column;this.setState({loading:!0,value:e},function(){r(o,e).then(function(e){t.isMounted&&t.setState({suggestions:e,isLoading:!1})})})},onSelectSuggestion:function(e){this.setState({value:e.title})},clearFilter:function(){this.setState({value:null})},updateFilter:function(){var e=this.props,t=e.filter,n=e.onUpdate,r=this.state.value,o=a.default.merge({},t,{parameters:{arguments:{operand:r}}});n(o)},render:function(){var e=this.props,t=e.filter,n=e.onCancel,r=this.state,o=r.isLoading,i=r.value,s=r.suggestions,c={isLoading:o,onSelection:this.onSelectSuggestion,onChangeSearchTerm:this.onChangeSearchTerm,options:a.default.map(s,function(e){return{title:e,value:e}}),value:i},p={disableApplyFilter:a.default.isEqual(i,a.default.get(t,"parameters.arguments.operand")),onClickApply:this.updateFilter,onClickCancel:n,onClickClear:this.clearFilter};return l.default.createElement("div",{className:"filter-controls text-filter"},l.default.createElement("div",{className:"column-container"},l.default.createElement(u.default,c)),l.default.createElement(d.default,p))}});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),a=r(o),i=n(15);t.default=a.default.createClass({displayName:"FilterConfig",propTypes:{onRemove:o.PropTypes.func.isRequired},render:function(){return a.default.createElement("div",{className:"filter-config"},a.default.createElement("div",{className:"filter-footer"},a.default.createElement("button",{className:"btn btn-sm btn-transparent remove-btn",onClick:this.props.onRemove},a.default.createElement("span",{className:"icon-close-2"}),(0,i.translate)("filter_bar.remove_filter"))))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=void 0;switch(e.dataTypeName){case"text":t={function:"binaryOperator",columnName:e.fieldName,arguments:{operator:"=",operand:null}};break;case"number":t={function:"valueRange",columnName:e.fieldName,arguments:{start:e.rangeMin,end:e.rangeMax}};break;default:return null}return{parameters:t,isLocked:!1,isHidden:!1,isRequired:!1,allowMultiple:!1}}function a(e,t){switch(t.dataTypeName){case"number":var n=l.default.get(e,"parameters.arguments",{}),r=l.default.isFinite(n.start)&&!l.default.isEqual(t.rangeMin,n.start),o=l.default.isFinite(n.end)&&!l.default.isEqual(t.rangeMax,n.end);return r&&o?(0,s.translate)("filter_bar.range_filter.range_label").format(n.start,n.end):r?(0,s.translate)("filter_bar.range_filter.greater_label").format(n.start):o?(0,s.translate)("filter_bar.range_filter.less_label").format(n.end):(0,s.translate)("filter_bar.all");case"text":return l.default.defaultTo(e.parameters.arguments.operand,(0,s.translate)("filter_bar.all"));default:return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultFilterForColumn=o,t.getToggleTextForFilter=a;var i=n(12),l=r(i),s=n(15)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=r(o),i=n(14),l=r(i),s=n(49),u=r(s),c=n(24),d=r(c),p=n(15),f=l.default.createClass({displayName:"InfoPane",propTypes:{category:i.PropTypes.string,description:i.PropTypes.string,descriptionLines:i.PropTypes.number,footer:i.PropTypes.node,isOfficial:i.PropTypes.bool,isPrivate:i.PropTypes.bool,metadata:i.PropTypes.shape({first:i.PropTypes.shape({label:i.PropTypes.node.isRequired,content:i.PropTypes.node.isRequired}),second:i.PropTypes.shape({label:i.PropTypes.node.isRequired,content:i.PropTypes.node.isRequired})}),name:i.PropTypes.string,onExpandDescription:i.PropTypes.func,renderButtons:i.PropTypes.func},getDefaultProps:function(){return{descriptionLines:4,onExpandDescription:a.default.noop}},componentDidMount:function(){if(this.metadataPane&&this.description){var e=this.metadataPane.getBoundingClientRect().height,t=this.description.getBoundingClientRect().height;t<e&&(this.description.style.height=e+"px")}var n=this.props,r=n.descriptionLines,o=n.onExpandDescription,a=24,i=11;(0,u.default)(this.description,{height:r*a+2*i,expandedCallback:o})},renderDescription:function(){var e=this,t=this.props.description;return l.default.createElement("div",{className:"entry-description-container collapsible"},l.default.createElement("div",{className:"entry-description",ref:function(t){return e.description=t}},l.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,d.default)(t)}}),l.default.createElement("button",{className:"collapse-toggle more"},(0,p.translate)("info_pane.more")),l.default.createElement("button",{className:"collapse-toggle less"},(0,p.translate)("info_pane.less"))))},renderFooter:function(){var e=this.props.footer;return e?l.default.createElement("div",{className:"entry-meta first"},l.default.createElement("div",{className:"entry-meta topics",dangerouslySetInnerHTML:{__html:(0,d.default)(e)}})):null},renderMetadata:function(){var e=this,t=this.props.metadata;if(!t)return null;var n=t.first?l.default.createElement("div",{className:"entry-meta updated"},l.default.createElement("span",{className:"meta-title"},t.first.label)," ",l.default.createElement("span",{className:"date"},t.first.content)):null,r=t.second?l.default.createElement("div",{className:"entry-meta views"},l.default.createElement("span",{className:"meta-title"},t.second.label)," ",l.default.createElement("span",{className:"date"},t.second.content)):null;return l.default.createElement("div",{className:"entry-meta second",ref:function(t){return e.metadataPane=t}},n,r)},render:function(){var e=this.props,t=e.category,n=e.isOfficial,r=e.isPrivate,o=e.name,i=e.renderButtons,s=r?l.default.createElement("span",{className:"icon-private","aria-label":(0,p.translate)("info_pane.private_notice"),title:(0,p.translate)("info_pane.private_notice")}):null,u=t?l.default.createElement("span",{className:"tag-category"},a.default.upperFirst(t)):null,c=n?l.default.createElement("span",{className:"tag-official"},l.default.createElement("span",{"aria-hidden":!0,className:"icon-official"}),(0,p.translate)("info_pane.official")):null,d=i?l.default.createElement("div",{className:"entry-actions"},i(this.props)):null;return l.default.createElement("div",{className:"info-pane result-card"},l.default.createElement("div",{className:"container"},l.default.createElement("div",{className:"entry-header dataset-landing-page-header"},l.default.createElement("div",{className:"entry-title"},l.default.createElement("h1",{className:"info-pane-name"},s,o),c,u),d),l.default.createElement("div",{className:"entry-content"},l.default.createElement("div",{className:"entry-main"},this.renderDescription(),this.renderFooter()),this.renderMetadata())))}});t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(12),a=r(o),i=n(19),l=r(i);n(23),n(3),e.exports=function(e,t){function n(){r.dotdotdot(c)}var r=(0,l.default)(e),o=e.parentElement,i=null,s=o.getBoundingClientRect().height,u=t.expandedCallback,c={after:".collapse-toggle.more",watch:!0,callback:function(t){var n=o.getBoundingClientRect().height;if(t&&n!==s)o.dataset.collapsed=!0,i=i||n;else{var r=a.default.toArray(e.querySelectorAll(".collapse-toggle"));r.forEach(function(e){e.style.display="none"})}}};for(var d in t)c[d]=t[d];r.find(".collapse-toggle").click(function(t){var c={duration:320,easing:[.645,.045,.355,1]};t.preventDefault(),o.dataset.collapsed?(delete o.dataset.collapsed,r.trigger("destroy"),e.style.height="auto",o.style.height=i+"px",(0,l.default)(o).velocity({height:s},c),a.default.isFunction(u)&&u()):(c.complete=n,(0,l.default)(o).velocity({height:i},c))}),n()}}])});
//# sourceMappingURL=socrata-components.min.js-f09a3bcc.map